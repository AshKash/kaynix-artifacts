"use strict";(self.webpackChunkkaynix_frontend=self.webpackChunkkaynix_frontend||[]).push([[461],{461:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw o}}}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var s=n&&n.prototype instanceof c?n:c,l=Object.create(s.prototype);return u(l,"_invoke",function(r,n,a){var o,c,s,u=0,l=a||[],p=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return o=t,c=0,s=e,d.n=r,i}};function f(r,n){for(c=r,s=n,t=0;!p&&u&&!a&&t<l.length;t++){var a,o=l[t],f=d.p,h=o[2];r>3?(a=h===n)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=f&&((a=r<2&&f<o[1])?(c=0,d.v=n,d.n=o[1]):f<h&&(a=r<3||o[0]>n||n>h)&&(o[4]=r,o[5]=n,d.n=h,c=0))}if(a||r>1)return i;throw p=!0,n}return function(a,l,h){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&f(l,h),c=l,s=h;(t=c<2?e:s)||!p;){o||(c?c<3?(c>1&&(d.n=-1),f(c,s)):d.n=s:d.v=s);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(p=d.n<0)?s:r.call(n,d))!==i)break}catch(t){o=e,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(r,a,o),!0),l}var i={};function c(){}function l(){}function p(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),f=p.prototype=c.prototype=Object.create(d);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=p,u(f,"constructor",p),u(p,"constructor",l),l.displayName="GeneratorFunction",u(p,a,"GeneratorFunction"),u(f),u(f,a,"Generator"),u(f,n,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:o,m:h}})()}function u(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){u(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},u(e,t,r,n)}function l(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function p(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){l(o,n,a,i,c,"next",e)}function c(e){l(o,n,a,i,c,"throw",e)}i(void 0)})}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f(n.key),n)}}function f(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function h(e,t,r){return t=m(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(y=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}r.r(t),r.d(t,{default:()=>g});var g=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=h(this,t,["lakersstore.com",r])).debug=r.debug||!1,e.selectors={filters:{form:".filter-form",collapsibleTrigger:".collapsible-trigger",collapsibleContent:".collapsible-content",priceRange:{container:".price-range",slider:".price-range__slider",minInput:".price-range__input-min",maxInput:".price-range__input-max",displayMin:".price-range__display-min",displayMax:".price-range__display-max"},checkboxFilters:{productType:'input[name="filter.p.product_type"]',color:'input[name="filter.p.m.custom.color"]',size:'input[name="filter.v.option.size"]',players:'input[name="filter.p.m.custom.players"]'},filterGroups:{container:".collection-sidebar__group",header:".tag-list__header",checkbox:".tag__checkbox",text:".tag__text"}},products:{grid:".grid.grid--uniform",item:".grid__item.grid-product",dataAttributes:{handle:"[data-product-handle]",id:"[data-product-id]"},content:".grid-product__content",image:".grid__item-image-wrapper",price:{container:".grid-product__price",original:".grid-product__price--original",savings:".grid-product__price--savings"},quickShop:{button:".quick-product__btn",modalTrigger:'[class*="js-modal-open-quick-modal-"]'}},search:{container:".site-header__search-container",form:".site-header__search",inputWrapper:".search__input-wrap",input:"#Search",inputClass:".search__input",searchButton:".btn--search",closeButton:".btn--close-search",predictiveSearch:"#predictive-search",results:".search__results",headerLinks:".js-search-header"},navigation:{desktop:{nav:".site-nav",item:".site-nav__item",link:".site-nav__link",dropdown:".site-nav__dropdown",megamenu:".megamenu",dropdownLink:".site-nav__dropdown-link"},mobile:{nav:".mobile-nav",item:".mobile-nav__item",link:".mobile-nav__link",toggle:".mobile-nav__toggle",sublist:".mobile-nav__sublist",drawerTrigger:".js-drawer-open-nav"}},cart:{drawer:{container:"#CartDrawer",form:"#CartDrawerForm",trigger:".js-drawer-open-cart",empty:".drawer__cart-empty",header:".drawer__header",title:".drawer__title",close:".drawer__close"},items:{container:".cart__item-sub",row:".cart__item-row"},totals:{subtotal:".ajaxcart__subtotal",total:".bold_cart_total"},checkout:{wrapper:".cart__checkout-wrapper",button:".btn.cart__checkout"},indicators:{link:".cart-link",bubble:".cart-link__bubble"},api:{add:"/cart/add",update:"/cart/update",change:"/cart/change"}},sorting:{container:".collection-filter__item--sort",select:"#SortBy",options:{manual:"manual",bestSelling:"best-selling",titleAsc:"title-ascending",titleDesc:"title-descending",priceAsc:"price-ascending",priceDesc:"price-descending",dateAsc:"created-ascending",dateDesc:"created-descending"}}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(t,e),r=t,n=[{key:"search",value:(g=p(s().m(function e(t){var r,n,a,o,i,c;return s().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,!this.page){e.n=6;break}return e.n=1,this.page.waitForSelector(this.selectors.search.input,{timeout:5e3});case 1:return e.n=2,this.page.fill(this.selectors.search.input,t);case 2:return e.n=3,this.page.keyboard.press("Enter");case 3:return e.n=4,this.waitForPageLoad();case 4:return e.n=5,this.extractProducts();case 5:return r=e.v,e.a(2,{success:!0,products:r.products,query:t});case 6:if(n=document.querySelector(this.selectors.search.input)){e.n=7;break}return e.a(2,{success:!1,products:[],query:t,error:"Failed to find search input"});case 7:return n.value=t,(a=document.querySelector(this.selectors.search.searchButton))?a.click():(o=n.closest("form"))?o.submit():window.location.href="/search?q=".concat(encodeURIComponent(t)),e.n=8,this.waitForPageLoad();case 8:return e.n=9,this.extractProducts();case 9:return i=e.v,e.a(2,{success:!0,products:i.products,query:t});case 10:e.n=12;break;case 11:return e.p=11,c=e.v,e.a(2,{success:!1,products:[],query:t,error:c.message});case 12:return e.a(2)}},e,this,[[0,11]])})),function(e){return g.apply(this,arguments)})},{key:"applyFilters",value:(m=p(s().m(function e(t){var r,n,i,c,u,l,p,d,f,h,y,m,b,g,v,_,k,w,S,x,q,j,A,P,O,F,C;return s().w(function(e){for(;;)switch(e.n){case 0:e.p=0,r=t,"string"==typeof t&&(r=this.parseNaturalLanguageFilters(t)),n=[],i=0,c=Object.entries(r);case 1:if(!(i<c.length)){e.n=26;break}if(u=o(c[i],2),l=u[0],p=u[1],"priceMax"!==l&&"priceMin"!==l){e.n=5;break}if(d="priceMax"===l?this.selectors.filters.priceRange.maxInput:this.selectors.filters.priceRange.minInput,!this.page){e.n=3;break}return e.n=2,this.page.fill(d,p.toString());case 2:e.n=4;break;case 3:(f=document.querySelector(d))&&(f.value=p.toString(),f.dispatchEvent(new Event("change",{bubbles:!0})));case 4:return n.push({type:l,value:p}),e.a(3,25);case 5:if(h=this.selectors.filters.checkboxFilters[l]){e.n=6;break}return e.a(3,25);case 6:if(!this.page){e.n=18;break}return e.n=7,this.page.$$(h);case 7:y=e.v,m=a(y),e.p=8,m.s();case 9:if((b=m.n()).done){e.n=14;break}return g=b.value,e.n=10,g.getAttribute("value");case 10:return v=e.v,e.n=11,this.page.evaluate(function(e){var t=e.closest("label")||document.querySelector('label[for="'.concat(e.id,'"]'));return t?t.textContent.trim():""},g);case 11:if(_=e.v,!this.matchesFilterValue(p,v,_)){e.n=13;break}return e.n=12,g.click();case 12:return n.push({type:l,value:p}),e.a(3,14);case 13:e.n=9;break;case 14:e.n=16;break;case 15:e.p=15,O=e.v,m.e(O);case 16:return e.p=16,m.f(),e.f(16);case 17:e.n=25;break;case 18:k=document.querySelectorAll(h),w=a(k),e.p=19,w.s();case 20:if((S=w.n()).done){e.n=22;break}if(x=S.value,q=x.value,j=x.closest("label")||document.querySelector('label[for="'.concat(x.id,'"]')),A=j?j.textContent.trim():"",!this.matchesFilterValue(p,q,A)){e.n=21;break}return x.click(),n.push({type:l,value:p}),e.a(3,22);case 21:e.n=20;break;case 22:e.n=24;break;case 23:e.p=23,F=e.v,w.e(F);case 24:return e.p=24,w.f(),e.f(24);case 25:i++,e.n=1;break;case 26:return e.n=27,this.waitForPageLoad();case 27:return e.n=28,this.extractProducts();case 28:return P=e.v,e.a(2,{success:!0,appliedFilters:n,products:P.products});case 29:return e.p=29,C=e.v,e.a(2,{success:!1,appliedFilters:[],products:[],error:C.message})}},e,this,[[19,23,24,25],[8,15,16,17],[0,29]])})),function(e){return m.apply(this,arguments)})},{key:"extractProducts",value:(y=p(s().m(function e(){var t,r,n,a,o=this;return s().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,!this.page){e.n=2;break}return e.n=1,this.page.evaluate(function(e){var t=document.querySelectorAll(e.products.item);return Array.from(t).map(function(t){var r=t.querySelector(e.products.content);if(!r)return null;var n=r.querySelector(".grid-product__title"),a=r.querySelector(".grid-product__link"),o=r.querySelector(e.products.price.container),i=t.querySelector(e.products.image),c=i?i.querySelector("img"):null,s="N/A";if(o){var u=o.textContent.match(/\$[\d,]+\.?\d*/);u&&(s=u[0])}var l=t.getAttribute("data-product-handle")||"",p=t.getAttribute("data-product-id")||"";return{title:n?n.textContent.trim():"N/A",price:s,url:a?a.href:"#",imageUrl:c?c.src||c.dataset.src:"",handle:l,id:p}}).filter(Boolean)},this.selectors);case 1:return t=e.v,e.a(2,{success:!0,products:t});case 2:return r=document.querySelectorAll(this.selectors.products.item),n=Array.from(r).map(function(e){var t=e.querySelector(o.selectors.products.content);if(!t)return null;var r=t.querySelector(".grid-product__title"),n=t.querySelector(".grid-product__link"),a=t.querySelector(o.selectors.products.price.container),i=e.querySelector(o.selectors.products.image),c=i?i.querySelector("img"):null,s="N/A";if(a){var u=a.textContent.match(/\$[\d,]+\.?\d*/);u&&(s=u[0])}var l=e.getAttribute("data-product-handle")||"",p=e.getAttribute("data-product-id")||"";return{title:r?r.textContent.trim():"N/A",price:s,url:n?n.href:"#",imageUrl:c?c.src||c.dataset.src:"",handle:l,id:p}}).filter(Boolean),e.a(2,{success:!0,products:n});case 3:e.n=5;break;case 4:return e.p=4,a=e.v,e.a(2,{success:!1,products:[],error:a.message});case 5:return e.a(2)}},e,this,[[0,4]])})),function(){return y.apply(this,arguments)})},{key:"addToCart",value:(f=p(s().m(function e(t){var r,n,a,o,i,c=arguments;return s().w(function(e){for(;;)switch(e.n){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:{},e.p=1,n=r.quantity||1,a=t.id||t.handle){e.n=2;break}return e.a(2,{success:!1,message:"Product ID not found"});case 2:return(o=new FormData).append("id",a),o.append("quantity",n.toString()),e.n=3,fetch(this.selectors.cart.api.add,{method:"POST",body:o});case 3:if(!e.v.ok){e.n=4;break}return e.a(2,{success:!0,message:"Product added to cart"});case 4:return e.a(2,{success:!1,message:"Failed to add product to cart"});case 5:e.n=7;break;case 6:return e.p=6,i=e.v,e.a(2,{success:!1,message:i.message});case 7:return e.a(2)}},e,this,[[1,6]])})),function(e){return f.apply(this,arguments)})},{key:"waitForPageLoad",value:(l=p(s().m(function e(){return s().w(function(e){for(;;)switch(e.n){case 0:if(!this.page){e.n=3;break}return e.n=1,this.page.waitForLoadState("networkidle",{timeout:1e4}).catch(function(){});case 1:return e.n=2,this.page.waitForTimeout(1e3);case 2:e.n=4;break;case 3:return e.n=4,new Promise(function(e){return setTimeout(e,2e3)});case 4:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"getAvailableFilters",value:(u=p(s().m(function e(){var t,r,n,a,i,c,u,l,p,d,f;return s().w(function(e){for(;;)switch(e.n){case 0:e.p=0,t={},r=0,n=Object.entries(this.selectors.filters.checkboxFilters);case 1:if(!(r<n.length)){e.n=5;break}if(a=o(n[r],2),i=a[0],c=a[1],!this.page){e.n=3;break}return e.n=2,this.page.evaluate(function(e){var t=document.querySelectorAll(e);return Array.from(t).map(function(e){var t=e.closest("label")||document.querySelector('label[for="'.concat(e.id,'"]'));return t?t.textContent.trim():e.value})},c);case 2:(u=e.v).length>0&&(t[i]=u),e.n=4;break;case 3:l=document.querySelectorAll(c),(p=Array.from(l).map(function(e){var t=e.closest("label")||document.querySelector('label[for="'.concat(e.id,'"]'));return t?t.textContent.trim():e.value})).length>0&&(t[i]=p);case 4:r++,e.n=1;break;case 5:return d=document.querySelector(this.selectors.filters.priceRange.minInput),f=document.querySelector(this.selectors.filters.priceRange.maxInput),d&&f&&(t.priceRange={min:parseFloat(d.min||d.value||0),max:parseFloat(f.max||f.value||500)}),e.a(2,t);case 6:return e.p=6,e.v,e.a(2,{})}},e,this,[[0,6]])})),function(){return u.apply(this,arguments)})},{key:"parseNaturalLanguageFilters",value:function(e){var t={},r=e.toLowerCase(),n=r.match(/size\s+(\w+)/);n&&(t.size=n[1].toUpperCase());for(var a=0,o=["red","blue","black","white","green","yellow","purple","pink","orange","gray","grey"];a<o.length;a++){var i=o[a];if(r.includes(i)){t.color=i.charAt(0).toUpperCase()+i.slice(1);break}}var c=r.match(/under\s+\$?(\d+)/);c&&(t.priceMax=parseInt(c[1]));var s=r.match(/(\w+\s+\w+)\s+(jersey|shirt|gear)/i);return s&&(t.players=s[1]),t}},{key:"matchesFilterValue",value:function(e,t,r){var n=e.toString().toLowerCase(),a=t.toLowerCase(),o=r.toLowerCase();if(a===n||o===n)return!0;var i={small:"s",medium:"m",large:"l","extra large":"xl",red:"rd",blue:"bl",black:"bk"}[n];return i&&(a===i||o.includes(n))}},{key:"getMCPCapabilities",value:function(){return{tools:[{name:"search_products",description:"Search for Lakers merchandise on the official store",inputSchema:{type:"object",properties:{query:{type:"string",description:'Search query (e.g., "lebron jersey", "purple hoodie")'}},required:["query"]}},{name:"filter_products",description:"Apply filters to narrow down Lakers products",inputSchema:{type:"object",properties:{filters:{type:"object",description:"Filter criteria",properties:{size:{type:"string",description:'Size (e.g., "S", "M", "L", "XL")'},color:{type:"string",description:'Color (e.g., "Purple", "Gold", "Black")'},productType:{type:"string",description:'Product type (e.g., "Jersey", "Shirt", "Hat")'},players:{type:"string",description:'Player name (e.g., "LeBron James", "Anthony Davis")'},priceMin:{type:"number",description:"Minimum price"},priceMax:{type:"number",description:"Maximum price"}}}},required:["filters"]}},{name:"get_page_products",description:"Get all products currently displayed on the page",inputSchema:{type:"object",properties:{},required:[]}}]}}},{key:"callMCPTool",value:(c=p(s().m(function e(t,r){var n;return s().w(function(e){for(;;)switch(e.n){case 0:n=t,e.n="search_products"===n?1:"filter_products"===n?3:"get_page_products"===n?5:7;break;case 1:return e.n=2,this.search(r.query);case 2:case 4:case 6:return e.a(2,e.v);case 3:return e.n=4,this.applyFilters(r.filters);case 5:return e.n=6,this.extractProducts();case 7:return e.a(2,{success:!1,error:"Unknown tool: ".concat(t)});case 8:return e.a(2)}},e,this)})),function(e,t){return c.apply(this,arguments)})}],n&&d(r.prototype,n),i&&d(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,c,u,l,f,y,m,g}(r(264).an)}}]);