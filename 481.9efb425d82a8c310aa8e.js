"use strict";(self.webpackChunkkaynix_frontend=self.webpackChunkkaynix_frontend||[]).push([[481],{481:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function c(r,n,o,a){var c=n&&n.prototype instanceof p?n:p,s=Object.create(c.prototype);return i(s,"_invoke",function(r,n,o){var i,a,c,p=0,s=o||[],l=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return i=t,a=0,c=e,f.n=r,u}};function d(r,n){for(a=r,c=n,t=0;!l&&p&&!o&&t<s.length;t++){var o,i=s[t],d=f.p,y=i[2];r>3?(o=y===n)&&(c=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(a=0,f.v=n,f.n=i[1]):d<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,f.n=y,a=0))}if(o||r>1)return u;throw l=!0,n}return function(o,s,y){if(p>1)throw TypeError("Generator is already running");for(l&&1===s&&d(s,y),a=s,c=y;(t=a<2?e:c)||!l;){i||(a?a<3?(a>1&&(f.n=-1),d(a,c)):f.n=c:f.v=c);try{if(p=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(l=f.n<0)?c:r.call(n,f))!==u)break}catch(t){i=e,a=1,c=t}finally{p=1}}return{value:t,done:l}}}(r,o,a),!0),s}var u={};function p(){}function s(){}function l(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(i(t={},n,function(){return this}),t),d=l.prototype=p.prototype=Object.create(f);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,i(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=l,i(d,"constructor",l),i(l,"constructor",s),s.displayName="GeneratorFunction",i(l,a,"GeneratorFunction"),i(d),i(d,a,"Generator"),i(d,n,function(){return this}),i(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:c,m:y}})()}function i(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}i=function(e,t,r,n){if(t)o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var a=function(t,r){i(e,t,function(e){return this._invoke(t,r,e)})};a("next",0),a("throw",1),a("return",2)}},i(e,t,r,n)}function a(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,u,"next",e)}function u(e){a(i,n,o,c,u,"throw",e)}c(void 0)})}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function s(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}r.r(t),r.d(t,{BaseMCPServer:()=>h,MCPResponse:()=>d,ProductJsonLD:()=>y,STANDARD_MCP_TOOLS:()=>f});var f=[{name:"search_products",description:"Search for products on the current e-commerce site",inputSchema:{type:"object",properties:{query:{type:"string",description:"Search query for products"}},required:["query"]}},{name:"apply_filter_gender",description:"Filter products by gender",inputSchema:{type:"object",properties:{value:{type:"string",enum:["men","women","kids"],description:"Gender filter to apply"}},required:["value"]}},{name:"apply_filter_price_max",description:"Filter products by maximum price",inputSchema:{type:"object",properties:{value:{type:"number",description:"Maximum price in USD"}},required:["value"]}},{name:"apply_filter_brand",description:"Filter products by brand",inputSchema:{type:"object",properties:{value:{type:"string",description:"Brand name to filter by"}},required:["value"]}},{name:"clear_filters",description:"Clear all applied filters",inputSchema:{type:"object",properties:{},additionalProperties:!1}},{name:"get_page_products",description:"Extract products from the current page as JSON-LD",inputSchema:{type:"object",properties:{},additionalProperties:!1}},{name:"add_to_cart",description:"Add a product to the shopping cart",inputSchema:{type:"object",properties:{productId:{type:"string",description:"Product ID or URL of the product to add"},size:{type:"string",description:"Size selection (optional)"},quantity:{type:"number",description:"Quantity to add (default: 1)"}},required:["productId"]}}],d=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(this,e),this.success=t,this.message=r,this.data=n}return s(e,null,[{key:"success",value:function(t){return new e(!0,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}},{key:"error",value:function(t){return new e(!1,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}])}(),y=s(function e(t){var r;u(this,e),this["@type"]="Product",this["@id"]=t.productUrl||t.title||"unknown",this.name=t.title||"Unknown Product",this.offers={"@type":"Offer",price:(null===(r=t.priceText)||void 0===r?void 0:r.replace(/[$,]/g,""))||"0",priceCurrency:"USD"},t.rating&&(this.aggregateRating={"@type":"AggregateRating",ratingValue:t.rating})}),h=function(){return s(function e(t){u(this,e),this.adapter=t},[{key:"getCapabilities",value:function(){return{tools:f}}},{key:"callTool",value:(l=c(o().m(function e(t,r){var n,i;return o().w(function(e){for(;;)switch(e.n){case 0:e.p=0,n=t,e.n="search_products"===n?1:"apply_filter_gender"===n?3:"apply_filter_price_max"===n?5:"apply_filter_brand"===n?7:"clear_filters"===n?9:"get_page_products"===n?11:"add_to_cart"===n?13:15;break;case 1:return e.n=2,this.searchProducts(r.query);case 2:case 4:case 6:case 8:case 10:case 12:case 14:return e.a(2,e.v);case 3:return e.n=4,this.applyGenderFilter(r.value);case 5:return e.n=6,this.applyPriceMaxFilter(r.value);case 7:return e.n=8,this.applyBrandFilter(r.value);case 9:return e.n=10,this.clearFilters();case 11:return e.n=12,this.getPageProducts();case 13:return e.n=14,this.addToCart(r);case 15:return e.a(2,d.error("Unknown tool: ".concat(t)));case 16:e.n=18;break;case 17:return e.p=17,i=e.v,e.a(2,d.error("Tool execution failed: ".concat(i.message)));case 18:return e.a(2)}},e,this,[[0,17]])})),function(e,t){return l.apply(this,arguments)})},{key:"searchProducts",value:(p=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:throw new Error("searchProducts must be implemented by adapter");case 1:return e.a(2)}},e)})),function(e){return p.apply(this,arguments)})},{key:"applyGenderFilter",value:(a=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:throw new Error("applyGenderFilter must be implemented by adapter");case 1:return e.a(2)}},e)})),function(e){return a.apply(this,arguments)})},{key:"applyPriceMaxFilter",value:(i=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:throw new Error("applyPriceMaxFilter must be implemented by adapter");case 1:return e.a(2)}},e)})),function(e){return i.apply(this,arguments)})},{key:"applyBrandFilter",value:(n=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:throw new Error("applyBrandFilter must be implemented by adapter");case 1:return e.a(2)}},e)})),function(e){return n.apply(this,arguments)})},{key:"clearFilters",value:(r=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:throw new Error("clearFilters must be implemented by adapter");case 1:return e.a(2)}},e)})),function(){return r.apply(this,arguments)})},{key:"getPageProducts",value:(t=c(o().m(function e(){return o().w(function(e){for(;;)switch(e.n){case 0:throw new Error("getPageProducts must be implemented by adapter");case 1:return e.a(2)}},e)})),function(){return t.apply(this,arguments)})},{key:"addToCart",value:(e=c(o().m(function e(t){return o().w(function(e){for(;;)switch(e.n){case 0:throw new Error("addToCart must be implemented by adapter");case 1:return e.a(2)}},e)})),function(t){return e.apply(this,arguments)})}]);var e,t,r,n,i,a,p,l}()}}]);