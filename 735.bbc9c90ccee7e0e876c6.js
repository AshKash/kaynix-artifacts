"use strict";(self.webpackChunkkaynix_frontend=self.webpackChunkkaynix_frontend||[]).push([[735],{116:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==r.return||r.return()}finally{if(s)throw a}}}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var s=n&&n.prototype instanceof c?n:c,l=Object.create(s.prototype);return u(l,"_invoke",function(r,n,o){var a,c,s,u=0,l=o||[],p=!1,d={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return a=t,c=0,s=e,d.n=r,i}};function f(r,n){for(c=r,s=n,t=0;!p&&u&&!o&&t<l.length;t++){var o,a=l[t],f=d.p,h=a[2];r>3?(o=h===n)&&(s=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=r<2&&f<a[1])?(c=0,d.v=n,d.n=a[1]):f<h&&(o=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,d.n=h,c=0))}if(o||r>1)return i;throw p=!0,n}return function(o,l,h){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&f(l,h),c=l,s=h;(t=c<2?e:s)||!p;){a||(c?c<3?(c>1&&(d.n=-1),f(c,s)):d.n=s:d.v=s);try{if(u=2,a){if(c||(o="next"),t=a[o]){if(!(t=t.call(a,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=a.return)&&t.call(a),c<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((t=(p=d.n<0)?s:r.call(n,d))!==i)break}catch(t){a=e,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(r,o,a),!0),l}var i={};function c(){}function l(){}function p(){}t=Object.getPrototypeOf;var d=[][n]?t(t([][n]())):(u(t={},n,function(){return this}),t),f=p.prototype=c.prototype=Object.create(d);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,u(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=p,u(f,"constructor",p),u(p,"constructor",l),l.displayName="GeneratorFunction",u(p,o,"GeneratorFunction"),u(f),u(f,o,"Generator"),u(f,n,function(){return this}),u(f,"toString",function(){return"[object Generator]"}),(s=function(){return{w:a,m:h}})()}function u(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}u=function(e,t,r,n){if(t)o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var a=function(t,r){u(e,t,function(e){return this._invoke(t,r,e)})};a("next",0),a("throw",1),a("return",2)}},u(e,t,r,n)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return(t=b(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){f(a,n,o,i,c,"next",e)}function c(e){f(a,n,o,i,c,"throw",e)}i(void 0)})}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function y(e,t,r){return t=g(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}r.r(t),r.d(t,{default:()=>w});var w=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=y(this,t,["burghardtsportinggoods.com",r])).debug=r.debug||!1,e.selectors={filters:{collapsibleWrapper:".collapsible-icon-wrapper[data-collapsible]",filterTrigger:"[data-collapsible-trigger]",filterContainer:"[data-collapsible-id]",filterState:"[data-collapsible-enabled-state]",checkboxFilters:{size:'input[name^="filter.v.option.size"]',color:'input[name^="filter.v.option.color"]',brand:'input[name^="filter.v.vendor"]',price:'input[name^="filter.v.price"]',productType:'input[name^="filter.p.product_type"]',tag:'input[name^="filter.p.tag"]',material:'input[name^="filter.v.option.material"]',style:'input[name^="filter.v.option.style"]',team:'input[name^="filter.v.option.team"]',player:'input[name^="filter.v.option.player"]'},priceInputs:{min:'input[name="filter.v.price.gte"]',max:'input[name="filter.v.price.lte"]'}},products:{grid:".productGrid",gridItem:".productGrid .product",card:".card",cardLink:".card-figure__link",title:".card-title a",price:".price--withoutTax",priceSection:".price-section--withoutTax",image:".card-image",brand:'.card-text[data-test-info-type="brandName"]',addToCart:'.card-figcaption-button[data-button-type="add-cart"]',chooseOptions:'.card-figcaption-button:contains("Choose Options")',quickView:".button.quickview[data-product-id]",productId:'[data-test^="card-"]',imageContainer:".card-img-container"},search:{quickSearchButton:".navUser-action--quickSearch",quickSearchDropdown:"#quickSearch",searchForm:"[data-quick-search-form]",searchInput:"[data-search-quick]",searchResults:".quickSearchResults",mobileSearchInput:"#nav-menu-quick-search",desktopSearchInput:"#nav-quick-search"},cart:{cartLink:"[data-cart-preview]",cartQuantity:".cart-quantity",cartDropdown:"#cart-preview-dropdown",cartPreview:'[data-dropdown="cart-preview-dropdown"]',addToCartUrl:"/cart.php?action=add&product_id=",cartPageUrl:"/cart.php",cartLabel:".navUser-item-cartLabel"}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),r=t,n=[{key:"search",value:(m=h(s().m(function e(t){var r,n,o,a,i,c,u;return s().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,!this.page){e.n=10;break}return e.n=1,this.page.$(this.selectors.search.quickSearchButton);case 1:if(!(r=e.v)){e.n=3;break}return e.n=2,r.click();case 2:return e.n=3,this.page.waitForSelector(this.selectors.search.searchInput,{visible:!0});case 3:return e.n=4,this.page.$(this.selectors.search.searchInput);case 4:if(n=e.v){e.n=5;break}return e.a(2,{success:!1,products:[],query:t,error:"Failed to find search input"});case 5:return e.n=6,n.fill(t);case 6:return e.n=7,n.press("Enter");case 7:return e.n=8,this.waitForPageLoad();case 8:return e.n=9,this.extractProducts();case 9:return o=e.v,e.a(2,p(p({},o),{},{query:t}));case 10:if(!(a=document.querySelector(this.selectors.search.quickSearchButton))){e.n=11;break}return a.click(),e.n=11,new Promise(function(e){return setTimeout(e,500)});case 11:if(i=document.querySelector(this.selectors.search.searchInput)||document.querySelector(this.selectors.search.desktopSearchInput)||document.querySelector(this.selectors.search.mobileSearchInput)){e.n=12;break}return window.location.href="/search.php?search_query=".concat(encodeURIComponent(t)),e.a(2,{success:!0,products:[],query:t});case 12:return i.value=t,(c=i.closest("form"))?c.submit():window.location.href="/search.php?search_query=".concat(encodeURIComponent(t)),e.a(2,{success:!0,products:[],query:t});case 13:e.n=15;break;case 14:return e.p=14,u=e.v,e.a(2,{success:!1,products:[],query:t,error:u.message});case 15:return e.a(2)}},e,this,[[0,14]])})),function(e){return m.apply(this,arguments)})},{key:"applyFilters",value:(b=h(s().m(function e(t){var r,n,i,c,u,l,d,f,h,v,b,y,m,g,k,w,S,x,q,C,O,j,P,F,_,T,I,$,L,E,A,B,M,z,U,G,D;return s().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,r=t,"string"==typeof t&&(r=this.parseNaturalLanguageFilters(t)),n=[],!this.page){e.n=20;break}i=0,c=Object.entries(r);case 1:if(!(i<c.length)){e.n=19;break}if(u=a(c[i],2),l=u[0],d=u[1],f=this.selectors.filters.checkboxFilters[l]){e.n=2;break}return e.a(3,18);case 2:if("priceMax"!==l&&"priceMin"!==l){e.n=6;break}return h="priceMax"===l?this.selectors.filters.priceInputs.max:this.selectors.filters.priceInputs.min,e.n=3,this.page.$(h);case 3:if(!(v=e.v)){e.n=5;break}return e.n=4,v.fill(d.toString());case 4:n.push({type:l,value:d});case 5:e.n=18;break;case 6:return e.n=7,this.page.$$(f);case 7:b=e.v,y=o(b),e.p=8,y.s();case 9:if((m=y.n()).done){e.n=15;break}return g=m.value,e.n=10,g.getAttribute("value");case 10:return k=e.v,e.n=11,g.evaluateHandle(function(e){var t,r=e.getAttribute("id");return null===(t=document.querySelector('label[for="'.concat(r,'"]')))||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim()});case 11:return w=e.v,e.n=12,w.jsonValue();case 12:if(S=e.v,!((null==k?void 0:k.toLowerCase())===d.toLowerCase()||null!=S&&S.toLowerCase().includes(d.toLowerCase()))){e.n=14;break}return e.n=13,g.click();case 13:return n.push({type:l,value:d}),e.a(3,15);case 14:e.n=9;break;case 15:e.n=17;break;case 16:e.p=16,U=e.v,y.e(U);case 17:return e.p=17,y.f(),e.f(17);case 18:i++,e.n=1;break;case 19:e.n=31;break;case 20:x=0,q=Object.entries(r);case 21:if(!(x<q.length)){e.n=31;break}if(C=a(q[x],2),O=C[0],j=C[1],P=this.selectors.filters.checkboxFilters[O]){e.n=22;break}return e.a(3,30);case 22:if("priceMax"!==O&&"priceMin"!==O){e.n=23;break}F="priceMax"===O?this.selectors.filters.priceInputs.max:this.selectors.filters.priceInputs.min,(_=document.querySelector(F))&&(_.value=j.toString(),_.dispatchEvent(new Event("change",{bubbles:!0})),n.push({type:O,value:j})),e.n=30;break;case 23:T=document.querySelectorAll(P),I=o(T),e.p=24,I.s();case 25:if(($=I.n()).done){e.n=27;break}if(E=$.value,A=E.value,B=document.querySelector('label[for="'.concat(E.id,'"]')),M=null==B||null===(L=B.textContent)||void 0===L?void 0:L.trim(),!((null==A?void 0:A.toLowerCase())===j.toLowerCase()||null!=M&&M.toLowerCase().includes(j.toLowerCase()))){e.n=26;break}return E.click(),n.push({type:O,value:j}),e.a(3,27);case 26:e.n=25;break;case 27:e.n=29;break;case 28:e.p=28,G=e.v,I.e(G);case 29:return e.p=29,I.f(),e.f(29);case 30:x++,e.n=21;break;case 31:return e.n=32,this.waitForPageLoad();case 32:return e.n=33,this.extractProducts();case 33:return z=e.v,e.a(2,p(p({},z),{},{appliedFilters:n}));case 34:return e.p=34,D=e.v,e.a(2,{success:!1,appliedFilters:[],products:[],error:D.message})}},e,this,[[24,28,29,30],[8,16,17,18],[0,34]])})),function(e){return b.apply(this,arguments)})},{key:"extractProducts",value:(f=h(s().m(function e(){var t,r,n,o,a=this;return s().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,!this.page){e.n=2;break}return e.n=1,this.page.evaluate(function(e){var t=document.querySelectorAll(e.products.gridItem);return Array.from(t).map(function(t){var r,n,o,a,i=t.querySelector(e.products.title),c=t.querySelector(e.products.price),s=t.querySelector(e.products.image),u=t.querySelector(e.products.cardLink),l=t.querySelector(e.products.brand),p=t.querySelector(e.products.productId),d="";if(c){var f=c.textContent.match(/\$[\d,]+\.?\d*/);d=f?f[0]:c.textContent.trim()}return{title:(null==i||null===(r=i.textContent)||void 0===r?void 0:r.trim())||"",price:d,image:(null==s?void 0:s.src)||(null==s||null===(n=s.dataset)||void 0===n?void 0:n.src)||"",link:(null==u?void 0:u.href)||"",brand:(null==l||null===(o=l.textContent)||void 0===o?void 0:o.trim())||"",id:(null==p||null===(a=p.dataset)||void 0===a||null===(a=a.test)||void 0===a?void 0:a.replace("card-",""))||"",inStock:!t.textContent.toLowerCase().includes("out of stock")}}).filter(function(e){return e.title})},this.selectors);case 1:return t=e.v,e.a(2,{success:!0,products:t});case 2:return r=document.querySelectorAll(this.selectors.products.gridItem),n=Array.from(r).map(function(e){var t,r,n,o,i=e.querySelector(a.selectors.products.title),c=e.querySelector(a.selectors.products.price),s=e.querySelector(a.selectors.products.image),u=e.querySelector(a.selectors.products.cardLink),l=e.querySelector(a.selectors.products.brand),p=e.querySelector(a.selectors.products.productId),d="";if(c){var f=c.textContent.match(/\$[\d,]+\.?\d*/);d=f?f[0]:c.textContent.trim()}return{title:(null==i||null===(t=i.textContent)||void 0===t?void 0:t.trim())||"",price:d,image:(null==s?void 0:s.src)||(null==s||null===(r=s.dataset)||void 0===r?void 0:r.src)||"",link:(null==u?void 0:u.href)||"",brand:(null==l||null===(n=l.textContent)||void 0===n?void 0:n.trim())||"",id:(null==p||null===(o=p.dataset)||void 0===o||null===(o=o.test)||void 0===o?void 0:o.replace("card-",""))||"",inStock:!e.textContent.toLowerCase().includes("out of stock")}}).filter(function(e){return e.title}),e.a(2,{success:!0,products:n});case 3:e.n=5;break;case 4:return e.p=4,o=e.v,e.a(2,{success:!1,products:[],error:o.message});case 5:return e.a(2)}},e,this,[[0,4]])})),function(){return f.apply(this,arguments)})},{key:"addToCart",value:(d=h(s().m(function e(t){var r,n,o;return s().w(function(e){for(;;)switch(e.n){case 0:if(e.p=1,r=t.id||this.extractProductId(t.link)){e.n=2;break}return e.a(2,{success:!1,message:"Product ID not found"});case 2:if(!this.page){e.n=9;break}return e.n=3,this.page.$('[data-product-id="'.concat(r,'"] ').concat(this.selectors.products.addToCart));case 3:if(!(n=e.v)){e.n=6;break}return e.n=4,n.click();case 4:return e.n=5,this.page.waitForTimeout(1e3);case 5:case 7:return e.a(2,{success:!0,message:"Product added to cart"});case 6:return e.n=7,this.page.goto("".concat(this.selectors.cart.addToCartUrl).concat(r));case 8:e.n=10;break;case 9:return window.location.href="".concat(this.selectors.cart.addToCartUrl).concat(r),e.a(2,{success:!0,message:"Product added to cart"});case 10:e.n=12;break;case 11:return e.p=11,o=e.v,e.a(2,{success:!1,message:o.message});case 12:return e.a(2)}},e,this,[[1,11]])})),function(e){return d.apply(this,arguments)})},{key:"waitForPageLoad",value:(l=h(s().m(function e(){return s().w(function(e){for(;;)switch(e.n){case 0:if(!this.page){e.n=3;break}return e.n=1,this.page.waitForLoadState("networkidle");case 1:return e.n=2,this.page.waitForTimeout(1e3);case 2:e.n=4;break;case 3:return e.n=4,new Promise(function(e){return setTimeout(e,1e3)});case 4:return e.a(2)}},e,this)})),function(){return l.apply(this,arguments)})},{key:"getAvailableFilters",value:(u=h(s().m(function e(){var t,r;return s().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,t={},!this.page){e.n=7;break}return e.n=1,this.page.$$eval(this.selectors.filters.checkboxFilters.size,function(e){return e.map(function(e){var t;return e.value||(null===(t=e.nextElementSibling)||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())}).filter(Boolean)});case 1:return t.sizes=e.v,e.n=2,this.page.$$eval(this.selectors.filters.checkboxFilters.color,function(e){return e.map(function(e){var t;return e.value||(null===(t=e.nextElementSibling)||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())}).filter(Boolean)});case 2:return t.colors=e.v,e.n=3,this.page.$$eval(this.selectors.filters.checkboxFilters.brand,function(e){return e.map(function(e){var t;return e.value||(null===(t=e.nextElementSibling)||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())}).filter(Boolean)});case 3:return t.brands=e.v,e.n=4,this.page.$$eval(this.selectors.filters.checkboxFilters.productType,function(e){return e.map(function(e){var t;return e.value||(null===(t=e.nextElementSibling)||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())}).filter(Boolean)});case 4:return t.productTypes=e.v,e.n=5,this.page.$$eval(this.selectors.filters.checkboxFilters.team,function(e){return e.map(function(e){var t;return e.value||(null===(t=e.nextElementSibling)||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())}).filter(Boolean)});case 5:return t.teams=e.v,e.n=6,this.page.$$eval(this.selectors.filters.checkboxFilters.player,function(e){return e.map(function(e){var t;return e.value||(null===(t=e.nextElementSibling)||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())}).filter(Boolean)});case 6:t.players=e.v,e.n=8;break;case 7:r=function(e){return Array.from(document.querySelectorAll(e)).map(function(e){var t;return e.value||(null===(t=document.querySelector('label[for="'.concat(e.id,'"]')))||void 0===t||null===(t=t.textContent)||void 0===t?void 0:t.trim())}).filter(Boolean)},t.sizes=r(this.selectors.filters.checkboxFilters.size),t.colors=r(this.selectors.filters.checkboxFilters.color),t.brands=r(this.selectors.filters.checkboxFilters.brand),t.productTypes=r(this.selectors.filters.checkboxFilters.productType),t.teams=r(this.selectors.filters.checkboxFilters.team),t.players=r(this.selectors.filters.checkboxFilters.player);case 8:return t.priceRange={min:0,max:500},e.a(2,t);case 9:return e.p=9,e.v,e.a(2,{})}},e,this,[[0,9]])})),function(){return u.apply(this,arguments)})},{key:"parseNaturalLanguageFilters",value:function(e){var t={},r=e.toLowerCase(),n=r.match(/size\s+(\w+)|(\w+)\s+size|^(xs|s|m|l|xl|xxl|xxxl|\d+)$/i);n&&(t.size=(n[1]||n[2]||n[3]).toUpperCase());var o=r.match(/(\w+)\s+color|color\s+(\w+)|(red|blue|black|white|green|yellow|orange|purple|pink|gray|grey)/i);o&&(t.color=(o[1]||o[2]||o[3]).toLowerCase());var a=r.match(/under\s+\$?(\d+)|less\s+than\s+\$?(\d+)|below\s+\$?(\d+)/i);a&&(t.priceMax=parseInt(a[1]||a[2]||a[3]));for(var i=0,c=["nike","adidas","puma","reebok","under armour","new balance"];i<c.length;i++){var s=c[i];if(r.includes(s)){t.brand=s;break}}return t}},{key:"extractProductId",value:function(e){var t=null==e?void 0:e.match(/products\/([^/?]+)/);return t?t[1]:null}},{key:"getMCPCapabilities",value:function(){return{tools:[{name:"search_products",description:"Search for sporting goods and equipment",inputSchema:{type:"object",properties:{query:{type:"string",description:"Search query"}},required:["query"]}},{name:"filter_products",description:"Filter products by size, color, brand, price, team, player, etc.",inputSchema:{type:"object",properties:{filters:{type:"object",description:"Filter criteria",properties:{size:{type:"string"},color:{type:"string"},brand:{type:"string"},priceMax:{type:"number"},priceMin:{type:"number"},team:{type:"string"},player:{type:"string"},productType:{type:"string"}}}},required:["filters"]}},{name:"get_page_products",description:"Get products currently displayed on the page",inputSchema:{type:"object",properties:{}}},{name:"add_to_cart",description:"Add a product to the shopping cart",inputSchema:{type:"object",properties:{product:{type:"object",description:"Product to add",properties:{id:{type:"string"},link:{type:"string"}}}},required:["product"]}}]}}},{key:"callMCPTool",value:(c=h(s().m(function e(t,r){var n;return s().w(function(e){for(;;)switch(e.n){case 0:n=t,e.n="search_products"===n?1:"filter_products"===n?3:"get_page_products"===n?5:"add_to_cart"===n?7:9;break;case 1:return e.n=2,this.search(r.query);case 2:case 4:case 6:case 8:return e.a(2,e.v);case 3:return e.n=4,this.applyFilters(r.filters);case 5:return e.n=6,this.extractProducts();case 7:return e.n=8,this.addToCart(r.product);case 9:return e.a(2,{success:!1,error:"Unknown tool: ".concat(t)});case 10:return e.a(2)}},e,this)})),function(e,t){return c.apply(this,arguments)})}],n&&v(r.prototype,n),i&&v(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,i,c,u,l,d,f,b,m}(r(264).an)}}]);