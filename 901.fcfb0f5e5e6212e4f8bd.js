"use strict";(self.webpackChunkkaynix_frontend=self.webpackChunkkaynix_frontend||[]).push([[901],{901:(e,r,t)=>{t.r(r),t.d(r,{RoadRunnerSportsAdapter:()=>j,default:()=>E});var n=t(264);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function c(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function a(e,r,t){return r&&c(e.prototype,r),t&&c(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){var r=function(e,r){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==o(r)?r:r+""}var s=[{name:"search_products",description:"Search for products on the current e-commerce site",inputSchema:{type:"object",properties:{query:{type:"string",description:"Search query for products"}},required:["query"]}},{name:"apply_filter_gender",description:"Filter products by gender",inputSchema:{type:"object",properties:{value:{type:"string",enum:["men","women","kids"],description:"Gender filter to apply"}},required:["value"]}},{name:"apply_filter_price_max",description:"Filter products by maximum price",inputSchema:{type:"object",properties:{value:{type:"number",description:"Maximum price in USD"}},required:["value"]}},{name:"apply_filter_brand",description:"Filter products by brand",inputSchema:{type:"object",properties:{value:{type:"string",description:"Brand name to filter by"}},required:["value"]}},{name:"clear_filters",description:"Clear all applied filters",inputSchema:{type:"object",properties:{},additionalProperties:!1}},{name:"get_page_products",description:"Extract products from the current page as JSON-LD",inputSchema:{type:"object",properties:{},additionalProperties:!1}},{name:"add_to_cart",description:"Add a product to the shopping cart",inputSchema:{type:"object",properties:{productId:{type:"string",description:"Product ID or URL of the product to add"},size:{type:"string",description:"Size selection (optional)"},quantity:{type:"number",description:"Quantity to add (default: 1)"}},required:["productId"]}}],l=function(){function e(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i(this,e),this.success=r,this.message=t,this.data=n}return a(e,null,[{key:"success",value:function(r){return new e(!0,r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}},{key:"error",value:function(r){return new e(!1,r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)}}])}(),p=a(function e(r){var t;i(this,e),this["@type"]="Product",this["@id"]=r.productUrl||r.title||"unknown",this.name=r.title||"Unknown Product",this.offers={"@type":"Offer",price:(null===(t=r.priceText)||void 0===t?void 0:t.replace(/[$,]/g,""))||"0",priceCurrency:"USD"},r.rating&&(this.aggregateRating={"@type":"AggregateRating",ratingValue:r.rating})});function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e){if(null!=e){var r=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],t=0;if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}throw new TypeError(f(e)+" is not iterable")}function y(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,r){if(e){if("string"==typeof e)return h(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,r):void 0}}(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==t.return||t.return()}finally{if(a)throw i}}}}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function v(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,o,i){var u=n&&n.prototype instanceof a?n:a,s=Object.create(u.prototype);return b(s,"_invoke",function(t,n,o){var i,a,u,s=0,l=o||[],p=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(r,t){return i=r,a=0,u=e,f.n=t,c}};function d(t,n){for(a=t,u=n,r=0;!p&&s&&!o&&r<l.length;r++){var o,i=l[r],d=f.p,y=i[2];t>3?(o=y===n)&&(u=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(a=0,f.v=n,f.n=i[1]):d<y&&(o=t<3||i[0]>n||n>y)&&(i[4]=t,i[5]=n,f.n=y,a=0))}if(o||t>1)return c;throw p=!0,n}return function(o,l,y){if(s>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,y),a=l,u=y;(r=a<2?e:u)||!p;){i||(a?a<3?(a>1&&(f.n=-1),d(a,u)):f.n=u:f.v=u);try{if(s=2,i){if(a||(o="next"),r=i[o]){if(!(r=r.call(i,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,a<2&&(a=0)}else 1===a&&(r=i.return)&&r.call(i),a<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((r=(p=f.n<0)?u:t.call(n,f))!==c)break}catch(r){i=e,a=1,u=r}finally{s=1}}return{value:r,done:p}}}(t,o,i),!0),s}var c={};function a(){}function u(){}function s(){}r=Object.getPrototypeOf;var l=[][n]?r(r([][n]())):(b(r={},n,function(){return this}),r),p=s.prototype=a.prototype=Object.create(l);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,b(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return u.prototype=s,b(p,"constructor",s),b(s,"constructor",u),u.displayName="GeneratorFunction",b(s,o,"GeneratorFunction"),b(p),b(p,o,"Generator"),b(p,n,function(){return this}),b(p,"toString",function(){return"[object Generator]"}),(v=function(){return{w:i,m:f}})()}function b(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}b=function(e,r,t,n){if(r)o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t;else{var i=function(r,t){b(e,r,function(e){return this._invoke(r,t,e)})};i("next",0),i("throw",1),i("return",2)}},b(e,r,t,n)}function m(e,r,t,n,o,i,c){try{var a=e[i](c),u=a.value}catch(e){return void t(e)}a.done?r(u):Promise.resolve(u).then(n,o)}function g(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var i=e.apply(r,t);function c(e){m(i,n,o,c,a,"next",e)}function a(e){m(i,n,o,c,a,"throw",e)}c(void 0)})}}function w(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function k(e){var r=function(e,r){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==f(r)?r:r+""}function S(e,r,t){return r=P(r),function(e,r){if(r&&("object"==f(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_()?Reflect.construct(r,t||[],P(e).constructor):r.apply(e,t))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function x(e,r){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},x(e,r)}var j=function(e){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),S(this,r,["roadrunnersports.com",e])}return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&x(e,r)}(r,e),t=r,n=[{key:"safeExecute",value:(u=g(v().m(function e(r,t){var n;return v().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,r();case 1:return e.a(2,e.v);case 2:return e.p=2,(n=e.v)&&n.stack&&n.stack.includes("kaynix")&&this.error("Kaynix error:",n),e.a(2,t||"Operation failed")}},e,this,[[0,2]])})),function(e,r){return u.apply(this,arguments)})},{key:"extractProducts",value:(a=g(v().m(function e(){var r,n,o,i,c,a,u,s,l,p,f;return v().w(function(e){for(;;)if(0===e.n){this.log("Extracting products from roadrunnersports.com..."),r=[],n=document.querySelectorAll("div.product-card--1gUX4"),this.log("Found ".concat(n.length," product elements")),o=y(n);try{for(o.s();!(i=o.n()).done;){c=i.value;try{a={},u=c.querySelector(".product-card-name--9ffy7"),a.title=u?u.textContent.trim():null,(s=c.querySelector('a[href^="/product/"]'))&&(a.url=s.href.startsWith("http")?s.href:"https://www.roadrunnersports.com".concat(s.getAttribute("href"))),(l=c.querySelector(".price-original--1VaFr"))&&(p=l.textContent.trim(),a.price=this.extractPrice(p)),f=c.querySelector('img[src*="widen.net"]'),a.imageUrl=f?f.src:null,a.title&&a.price&&a.url?r.push(a):this.log("Skipping product with missing fields:",{title:a.title,price:a.price,url:a.url})}catch(t){this.error("Error extracting product:",t)}}}catch(d){o.e(d)}finally{o.f()}return this.log("Extracted ".concat(r.length," products")),e.a(2,{products:r})}},e,this)})),function(){return a.apply(this,arguments)})},{key:"getMCPCapabilities",value:function(){return{tools:s}}},{key:"callMCPTool",value:(c=g(v().m(function e(r,t){var n,o,i,c,a,u,s;return v().w(function(e){for(;;)switch(e.n){case 0:e.p=0,this.log("Calling MCP tool: ".concat(r),t),u=r,e.n="get_page_products"===u?1:"apply_filter_gender"===u?4:"apply_filter_price_max"===u?7:"apply_filter_brand"===u?9:"clear_filters"===u?11:"search_products"===u?13:"add_to_cart"===u?15:16;break;case 1:return e.n=2,this.extractProducts();case 2:if(!((o=e.v).products&&o.products.length>0)){e.n=3;break}return i=o.products.map(function(e){return new p(e)}),e.a(2,l.success("Found ".concat(i.length," products"),i));case 3:return e.a(2,l.error("No products found on page"));case 4:if(c=t.gender||t.value||(null===(n=t.filters)||void 0===n?void 0:n.gender)){e.n=5;break}return e.a(2,l.error("Gender parameter is required"));case 5:return e.n=6,this.applyGenderFilter(c);case 6:case 8:case 10:case 12:case 14:return e.a(2,e.v);case 7:return e.n=8,this.applyPriceFilter(t.value);case 9:return e.n=10,this.applyBrandFilter(t.value);case 11:return e.n=12,this.clearFilters();case 13:return e.n=14,this.searchProducts(t.query);case 15:return e.a(2,l.error("Add to cart not yet implemented for Road Runner Sports"));case 16:return e.a(2,l.error("Unknown tool: ".concat(r)));case 17:e.n=19;break;case 18:return e.p=18,s=e.v,a=s instanceof Error?s.message:String(s),this.error("Tool ".concat(r," failed:"),s),e.a(2,l.error("Tool execution failed: ".concat(a)));case 19:return e.a(2)}},e,this,[[0,18]])})),function(e,r){return c.apply(this,arguments)})},{key:"applyGenderFilter",value:function(){var e=g(v().m(function e(r){var t,n,o,i,c,a,u,s,p,f,h,b,m,w,k,S,_,P=this;return v().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,r&&"string"==typeof r){e.n=1;break}return e.a(2,l.error("Invalid gender parameter: ".concat(r)));case 1:if(t={men:"Men",women:"Women",kids:"Kids"}[r.toLowerCase()]){e.n=2;break}return e.a(2,l.error("Invalid gender: ".concat(r,". Use 'men', 'women', or 'kids'")));case 2:this.log("Looking for ".concat(t," gender filter...")),n=document.querySelectorAll("label"),o=y(n),e.p=3,c=v().m(function e(){var r,n,o;return v().w(function(e){for(;;)switch(e.n){case 0:if(r=i.value,!(n=r.textContent.trim()).startsWith("".concat(t,"'s"))&&n!==t){e.n=3;break}if(!(o=r.querySelector('input[type="checkbox"]'))||o.checked){e.n=2;break}return P.log("Found unchecked ".concat(t," checkbox, clicking...")),e.n=1,P.safeExecute(g(v().m(function e(){var r,t;return v().w(function(e){for(;;)switch(e.n){case 0:return r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}),o.dispatchEvent(r),o.checked=!0,t=new Event("change",{bubbles:!0}),o.dispatchEvent(t),e.n=1,new Promise(function(e){return setTimeout(e,2e3)});case 1:return e.a(2)}},e)})));case 1:return e.a(2,{v:l.success("Applied ".concat(t," filter"))});case 2:if(!o||!o.checked){e.n=3;break}return e.a(2,{v:l.success("".concat(t," filter is already applied"))});case 3:return e.a(2)}},e)}),o.s();case 4:if((i=o.n()).done){e.n=7;break}return e.d(d(c()),5);case 5:if(!(a=e.v)){e.n=6;break}return e.a(2,a.v);case 6:e.n=4;break;case 7:e.n=9;break;case 8:e.p=8,k=e.v,o.e(k);case 9:return e.p=9,o.f(),e.f(9);case 10:if(!(u=Array.from(document.querySelectorAll("h2, h3, div")).find(function(e){return"Gender"===e.textContent.trim()}))){e.n=18;break}s=u.closest("div").parentElement,p=s.querySelectorAll('input[type="checkbox"]'),f=y(p),e.p=11,b=v().m(function e(){var r,n,o;return v().w(function(e){for(;;)switch(e.n){case 0:if(r=h.value,!(n=r.closest("label"))){e.n=3;break}if(!(o=n.textContent.trim()).startsWith("".concat(t,"'s"))&&o!==t){e.n=3;break}if(r.checked){e.n=2;break}return P.log("Found ".concat(t," checkbox in Gender section, clicking...")),e.n=1,P.safeExecute(g(v().m(function e(){var t,n;return v().w(function(e){for(;;)switch(e.n){case 0:return t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}),r.dispatchEvent(t),r.checked=!0,n=new Event("change",{bubbles:!0}),r.dispatchEvent(n),e.n=1,new Promise(function(e){return setTimeout(e,2e3)});case 1:return e.a(2)}},e)})));case 1:return e.a(2,{v:l.success("Applied ".concat(t," filter"))});case 2:return e.a(2,{v:l.success("".concat(t," filter is already applied"))});case 3:return e.a(2)}},e)}),f.s();case 12:if((h=f.n()).done){e.n=15;break}return e.d(d(b()),13);case 13:if(!(m=e.v)){e.n=14;break}return e.a(2,m.v);case 14:e.n=12;break;case 15:e.n=17;break;case 16:e.p=16,S=e.v,f.e(S);case 17:return e.p=17,f.f(),e.f(17);case 18:return e.a(2,l.error("Could not find ".concat(t," filter checkbox on page")));case 19:return e.p=19,_=e.v,w=_ instanceof Error?_.message:String(_),this.error("Gender filter error:",_),e.a(2,l.error("Failed to apply gender filter: ".concat(w)))}},e,this,[[11,16,17,18],[3,8,9,10],[0,19]])}));return function(r){return e.apply(this,arguments)}}()},{key:"applyPriceFilter",value:(i=g(v().m(function e(r){var t;return v().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.a(2,l.error("Price filter not yet implemented for Road Runner Sports"));case 1:return e.p=1,t=e.v,e.a(2,l.error("Failed to apply price filter: ".concat(t.message)))}},e,null,[[0,1]])})),function(e){return i.apply(this,arguments)})},{key:"applyBrandFilter",value:function(){var e=g(v().m(function e(r){var t;return v().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.a(2,l.error("Brand filter not yet implemented for Road Runner Sports"));case 1:return e.p=1,t=e.v,e.a(2,l.error("Failed to apply brand filter: ".concat(t.message)))}},e,null,[[0,1]])}));return function(r){return e.apply(this,arguments)}}()},{key:"clearFilters",value:function(){var e=g(v().m(function e(){var r,t,n,o,i,c,a;return v().w(function(e){for(;;)switch(e.n){case 0:e.p=0,r=document.querySelectorAll("button, a"),t=y(r),e.p=1,t.s();case 2:if((n=t.n()).done){e.n=5;break}if(o=n.value,!(i=o.textContent.toLowerCase()).includes("clear")||!i.includes("filter")&&!i.includes("all")){e.n=4;break}return o.click(),e.n=3,new Promise(function(e){return setTimeout(e,1e3)});case 3:return e.a(2,l.success("Cleared all filters"));case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,c=e.v,t.e(c);case 7:return e.p=7,t.f(),e.f(7);case 8:return e.a(2,l.error("Could not find clear filters button"));case 9:return e.p=9,a=e.v,e.a(2,l.error("Failed to clear filters: ".concat(a.message)))}},e,null,[[1,6,7,8],[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"searchProducts",value:function(){var e=g(v().m(function e(r){var t,n,o;return v().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,t=document.querySelector('input[type="search"], input[placeholder*="Search"]')){e.n=1;break}return e.a(2,l.error("Could not find search input"));case 1:return t.value=r,t.dispatchEvent(new Event("input",{bubbles:!0})),(n=t.closest("form"))?n.submit():t.dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",keyCode:13})),e.a(2,l.success("Searching for: ".concat(r)));case 2:return e.p=2,o=e.v,e.a(2,l.error("Failed to search: ".concat(o.message)))}},e,null,[[0,2]])}));return function(r){return e.apply(this,arguments)}}()}],n&&w(t.prototype,n),o&&w(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o,i,c,a,u}(n.an);const E=j}}]);