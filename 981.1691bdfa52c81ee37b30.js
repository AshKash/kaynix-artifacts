"use strict";(self.webpackChunkkaynix_frontend=self.webpackChunkkaynix_frontend||[]).push([[981],{981:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],s=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,a=e}finally{try{if(!s&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var s=n&&n.prototype instanceof c?n:c,u=Object.create(s.prototype);return l(u,"_invoke",function(r,n,a){var o,c,s,u=0,l=a||[],p=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,c=0,s=e,f.n=r,i}};function d(r,n){for(c=r,s=n,t=0;!p&&u&&!a&&t<l.length;t++){var a,o=l[t],d=f.p,y=o[2];r>3?(a=y===n)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(c=0,f.v=n,f.n=o[1]):d<y&&(a=r<3||o[0]>n||n>y)&&(o[4]=r,o[5]=n,f.n=y,c=0))}if(a||r>1)return i;throw p=!0,n}return function(a,l,y){if(u>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,y),c=l,s=y;(t=c<2?e:s)||!p;){o||(c?c<3?(c>1&&(f.n=-1),d(c,s)):f.n=s:f.v=s);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(p=f.n<0)?s:r.call(n,f))!==i)break}catch(t){o=e,c=1,s=t}finally{u=1}}return{value:t,done:p}}}(r,a,o),!0),u}var i={};function c(){}function s(){}function p(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(l(t={},n,function(){return this}),t),d=p.prototype=c.prototype=Object.create(f);function y(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=p,l(d,"constructor",p),l(p,"constructor",s),s.displayName="GeneratorFunction",l(p,a,"GeneratorFunction"),l(d),l(d,a,"Generator"),l(d,n,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(u=function(){return{w:o,m:y}})()}function l(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}l=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){l(e,t,function(e){return this._invoke(t,r,e)})};o("next",0),o("throw",1),o("return",2)}},l(e,t,r,n)}function p(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function f(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){p(o,n,a,i,c,"next",e)}function c(e){p(o,n,a,i,c,"throw",e)}i(void 0)})}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function y(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function h(e,t,r){return t=m(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(b=function(){return!!e})()}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}r.r(t),r.d(t,{default:()=>g});var g=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=h(this,t,["shop.warriors.com",r])).debug=r.debug||!1,e.selectors={filters:{container:".filter-selector-container",section:".filter-selector",item:".filter-selector-item",link:".filter-selector-link.selection-value",customContainer:".custom-filters-container",customList:".custom-filters-list",toggle:".filters-toggle-button",sideNav:{container:".side-nav-container",component:".side-nav-component",selections:".side-nav-selections",facetItems:".side-nav-facet-items",productGroups:".side-nav-facet-items.productGroups"},checkboxFilters:{size:'input[name="filter.v.option.size"]',color:'input[name="filter.v.option.color"]',price:'input[name="filter.v.price"]',productType:'input[name="filter.p.product_type"]',team:'input[name="filter.v.option.team"]',player:'input[name="filter.v.option.player"]',brand:'input[name="filter.v.option.brand"]',material:'input[name="filter.v.option.material"]',style:'input[name="filter.v.option.style"]',gender:'input[name="filter.v.option.gender"]'}},products:{gridContainer:".product-grid-container",grid:".layout-row.product-grid",item:".product-card.row",title:".product-card-title",image:".product-image",imageContainer:".product-image-container",price:".product-card-price",badges:".product-badges-container",badge:".flag.product-badge-flag",colors:".product-card-colors",vibrancy:".product-vibrancy",count:".product-count",dataGrid:'[data-trk-id="product-grid"]'},search:{form:'[data-trk-id="search-typeahead"]',input:'input[type="search"], input[type="text"]',searchButton:"#ds-search",searchIcon:".icon-search",typeahead:".mobile-typeahead",typeaheadItem:".typeahead-item",closeSearch:'[data-trk-id="close-search-box"]'},cart:{addButton:".button.primary",sizeSelector:".size-selector-button",cartIcon:".cart-icon",cartCount:".cart-icon .cart-count",cartLink:'a[href*="/cart"]'}},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(t,e),r=t,n=[{key:"search",value:(g=f(u().m(function e(t){var r,n,a,o,i,c;return u().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,!this.page){e.n=10;break}return e.n=1,this.page.waitForSelector(this.selectors.search.form,{timeout:5e3});case 1:return e.n=2,this.page.$(this.selectors.search.input);case 2:if(e.v){e.n=5;break}return e.n=3,this.page.$(this.selectors.search.searchButton);case 3:if(!(r=e.v)){e.n=5;break}return e.n=4,r.click();case 4:return e.n=5,this.page.waitForSelector(this.selectors.search.input,{timeout:3e3});case 5:return e.n=6,this.page.fill(this.selectors.search.input,t);case 6:return e.n=7,this.page.keyboard.press("Enter");case 7:return e.n=8,this.waitForPageLoad();case 8:return e.n=9,this.extractProducts();case 9:return n=e.v,e.a(2,{success:!0,products:n.products||[],query:t});case 10:if(a=document.querySelector(this.selectors.search.input)){e.n=13;break}if(!(o=document.querySelector(this.selectors.search.searchButton))){e.n=12;break}return o.click(),e.n=11,new Promise(function(e){return setTimeout(e,500)});case 11:e.n=13;break;case 12:return window.location.href="/search?q=".concat(encodeURIComponent(t)),e.a(2,{success:!0,products:[],query:t});case 13:return a&&(a.value=t,(i=a.closest("form"))?i.submit():a.dispatchEvent(new KeyboardEvent("keypress",{key:"Enter"}))),e.a(2,{success:!0,products:[],query:t});case 14:e.n=16;break;case 15:return e.p=15,c=e.v,e.a(2,{success:!1,products:[],query:t,error:c.message});case 16:return e.a(2)}},e,this,[[0,15]])})),function(e){return g.apply(this,arguments)})},{key:"applyFilters",value:(m=f(u().m(function e(t){var r,n,a,c,s,l,p,f,d,y,h,b,m,v,g,k,w,S,j,C,x,q,O,P,_,L,T,A,F,z,E;return u().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,r=t,"string"==typeof t&&(r=this.parseNaturalLanguageFilters(t)),n=[],!this.page){e.n=16;break}a=0,c=Object.entries(r);case 1:if(!(a<c.length)){e.n=14;break}if(s=i(c[a],2),l=s[0],p=s[1],f=this.selectors.filters.checkboxFilters[l]){e.n=2;break}return e.a(3,13);case 2:return e.n=3,this.page.$$(f);case 3:d=e.v,y=o(d),e.p=4,y.s();case 5:if((h=y.n()).done){e.n=10;break}return b=h.value,e.n=6,b.getAttribute("value");case 6:return m=e.v,e.n=7,b.evaluate(function(e){var t=e.parentElement.querySelector("label")||e.closest("label");return t?t.textContent.trim():""});case 7:if(v=e.v,!(m===p||(null==m?void 0:m.toLowerCase())===p.toLowerCase()||null!=v&&v.toLowerCase().includes(p.toLowerCase()))){e.n=9;break}return e.n=8,b.click();case 8:return n.push({type:l,value:p}),e.a(3,10);case 9:e.n=5;break;case 10:e.n=12;break;case 11:e.p=11,F=e.v,y.e(F);case 12:return e.p=12,y.f(),e.f(12);case 13:a++,e.n=1;break;case 14:return e.n=15,this.waitForPageLoad();case 15:e.n=26;break;case 16:g=0,k=Object.entries(r);case 17:if(!(g<k.length)){e.n=26;break}if(w=i(k[g],2),S=w[0],j=w[1],C=this.selectors.filters.checkboxFilters[S]){e.n=18;break}return e.a(3,25);case 18:x=document.querySelectorAll(C),q=o(x),e.p=19,q.s();case 20:if((O=q.n()).done){e.n=22;break}if(P=O.value,_=P.value,L=P.parentElement.querySelector("label")||P.closest("label"),T=L?L.textContent.trim():"",!(_===j||(null==_?void 0:_.toLowerCase())===j.toLowerCase()||null!=T&&T.toLowerCase().includes(j.toLowerCase()))){e.n=21;break}return P.click(),n.push({type:S,value:j}),e.a(3,22);case 21:e.n=20;break;case 22:e.n=24;break;case 23:e.p=23,z=e.v,q.e(z);case 24:return e.p=24,q.f(),e.f(24);case 25:g++,e.n=17;break;case 26:return e.n=27,this.extractProducts();case 27:return A=e.v,e.a(2,{success:!0,appliedFilters:n,products:A.products||[]});case 28:return e.p=28,E=e.v,e.a(2,{success:!1,appliedFilters:[],products:[],error:E.message})}},e,this,[[19,23,24,25],[4,11,12,13],[0,28]])})),function(e){return m.apply(this,arguments)})},{key:"extractProducts",value:(b=f(u().m(function e(){var t,r,n,a,o=this;return u().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,!this.page){e.n=2;break}return e.n=1,this.page.evaluate(function(e){var t=document.querySelectorAll(e.products.item);return Array.from(t).map(function(t){var r,n=t.querySelector(e.products.title),a=t.querySelector(e.products.price)||t.querySelector(".product-card-price"),o=t.querySelector(e.products.image),i=t.querySelector("a"),c="Price not available";if(a){var s=a.textContent.match(/\$[\d,]+\.?\d*/);s&&(c=s[0])}return{title:(null==n||null===(r=n.textContent)||void 0===r?void 0:r.trim())||"No title",price:c,image:(null==o?void 0:o.src)||(null==o?void 0:o.getAttribute("data-src"))||"",link:(null==i?void 0:i.href)||"",available:!t.classList.contains("sold-out")}})},this.selectors);case 1:return t=e.v,e.a(2,{success:!0,products:t});case 2:return r=document.querySelectorAll(this.selectors.products.item),n=Array.from(r).map(function(e){var t,r=e.querySelector(o.selectors.products.title),n=e.querySelector(o.selectors.products.price)||e.querySelector(".product-card-price"),a=e.querySelector(o.selectors.products.image),i=e.querySelector("a"),c="Price not available";if(n){var s=n.textContent.match(/\$[\d,]+\.?\d*/);s&&(c=s[0])}return{title:(null==r||null===(t=r.textContent)||void 0===t?void 0:t.trim())||"No title",price:c,image:(null==a?void 0:a.src)||(null==a?void 0:a.getAttribute("data-src"))||"",link:(null==i?void 0:i.href)||"",available:!e.classList.contains("sold-out")}}),e.a(2,{success:!0,products:n});case 3:e.n=5;break;case 4:return e.p=4,a=e.v,e.a(2,{success:!1,products:[],error:a.message});case 5:return e.a(2)}},e,this,[[0,4]])})),function(){return b.apply(this,arguments)})},{key:"addToCart",value:(y=f(u().m(function e(t){var r,n,a,i,c,s,l,p,f=arguments;return u().w(function(e){for(;;)switch(e.n){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:{},e.p=1,n=r.size||"M",r.quantity,!this.page){e.n=16;break}return e.n=2,this.page.goto(t.link);case 2:return e.n=3,this.page.waitForSelector(this.selectors.cart.sizeSelector);case 3:return e.n=4,this.page.$$(this.selectors.cart.sizeSelector);case 4:a=e.v,i=o(a),e.p=5,i.s();case 6:if((c=i.n()).done){e.n=10;break}return s=c.value,e.n=7,s.textContent();case 7:if(!e.v.includes(n)){e.n=9;break}return e.n=8,s.click();case 8:return e.a(3,10);case 9:e.n=6;break;case 10:e.n=12;break;case 11:e.p=11,l=e.v,i.e(l);case 12:return e.p=12,i.f(),e.f(12);case 13:return e.n=14,this.page.click(this.selectors.cart.addButton);case 14:return e.n=15,this.page.waitForTimeout(2e3);case 15:return e.a(2,{success:!0,message:"Added ".concat(t.title," (size ").concat(n,") to cart")});case 16:return e.a(2,{success:!1,message:"Add to cart not available in widget mode"});case 17:e.n=19;break;case 18:return e.p=18,p=e.v,e.a(2,{success:!1,message:p.message});case 19:return e.a(2)}},e,this,[[5,11,12,13],[1,18]])})),function(e){return y.apply(this,arguments)})},{key:"waitForPageLoad",value:(p=f(u().m(function e(){return u().w(function(e){for(;;)switch(e.n){case 0:if(!this.page){e.n=3;break}return e.n=1,this.page.waitForLoadState("networkidle",{timeout:1e4});case 1:return e.n=2,this.page.waitForTimeout(1e3);case 2:e.n=4;break;case 3:return e.n=4,new Promise(function(e){return setTimeout(e,2e3)});case 4:return e.a(2)}},e,this)})),function(){return p.apply(this,arguments)})},{key:"getAvailableFilters",value:(l=f(u().m(function e(){var t,r,n,c,s,l,p,f,d,y,h,b,m,v,g,k,w,S,j;return u().w(function(e){for(;;)switch(e.n){case 0:t={sizes:[],colors:[],players:[],teams:[],brands:[],productTypes:[],materials:[],styles:[],genders:[],priceRange:{min:0,max:500}},e.p=1,r={size:"sizes",color:"colors",player:"players",team:"teams",brand:"brands",productType:"productTypes",material:"materials",style:"styles",gender:"genders"},n=0,c=Object.entries(this.selectors.filters.checkboxFilters);case 2:if(!(n<c.length)){e.n=18;break}if(s=i(c[n],2),l=s[0],p=s[1],"price"!==l){e.n=3;break}return e.a(3,17);case 3:if(!this.page){e.n=5;break}return e.n=4,this.page.$$(p);case 4:S=e.v,e.n=6;break;case 5:S=document.querySelectorAll(p);case 6:f=[],d=o(S),e.p=7,d.s();case 8:if((y=d.n()).done){e.n=13;break}if(h=y.value,!this.page){e.n=11;break}return e.n=9,h.getAttribute("value");case 9:return b=e.v,e.n=10,h.evaluate(function(e){var t=e.parentElement.querySelector("label")||e.closest("label");return t?t.textContent.trim():""});case 10:m=e.v,(b||m)&&f.push(m||b),e.n=12;break;case 11:v=h.value,g=h.parentElement.querySelector("label")||h.closest("label"),k=g?g.textContent.trim():"",(v||k)&&f.push(k||v);case 12:e.n=8;break;case 13:e.n=15;break;case 14:e.p=14,j=e.v,d.e(j);case 15:return e.p=15,d.f(),e.f(15);case 16:(w=r[l])&&f.length>0&&(t[w]=a(new Set(f)));case 17:n++,e.n=2;break;case 18:return e.a(2,t);case 19:return e.p=19,e.v,e.a(2,t)}},e,this,[[7,14,15,16],[1,19]])})),function(){return l.apply(this,arguments)})},{key:"parseNaturalLanguageFilters",value:function(e){var t={},r=e.toLowerCase(),n=r.match(/size\s+(\w+)|(\w+)\s+size|small|medium|large|x{0,2}l|x{0,2}s/);if(n){var a=n[1]||n[2]||n[0];t.size={small:"S",s:"S",medium:"M",m:"M",large:"L",l:"L",xl:"XL",xxl:"XXL",xs:"XS",xxs:"XXS"}[a.toLowerCase()]||a.toUpperCase()}for(var o=0,i=["red","blue","black","white","gray","green","yellow","purple","orange","gold"];o<i.length;o++){var c=i[o];if(r.includes(c)){t.color=c.charAt(0).toUpperCase()+c.slice(1);break}}var s=r.match(/under\s+\$?(\d+)|less\s+than\s+\$?(\d+)|\$?(\d+)\s+or\s+less/);s&&(t.priceMax=parseInt(s[1]||s[2]||s[3]));var u=r.match(/curry|thompson|green|wiggins|poole/i);return u&&(t.player=u[0].charAt(0).toUpperCase()+u[0].slice(1)),r.includes("jersey")&&(t.productType="Jersey"),r.includes("shirt")&&(t.productType="Shirt"),r.includes("shorts")&&(t.productType="Shorts"),(r.includes("hat")||r.includes("cap"))&&(t.productType="Hat"),t}},{key:"getMCPCapabilities",value:function(){return{tools:[{name:"search_products",description:"Search for products on Warriors Shop",inputSchema:{type:"object",properties:{query:{type:"string",description:"Search query (e.g., 'Curry jersey', 'Warriors shorts')"}},required:["query"]}},{name:"filter_products",description:"Filter products by various attributes",inputSchema:{type:"object",properties:{filters:{type:"string",description:"Natural language filters (e.g., 'size L blue under $50', 'Curry jerseys')"}},required:["filters"]}},{name:"get_page_products",description:"Get all products currently displayed on the page",inputSchema:{type:"object",properties:{}}},{name:"add_to_cart",description:"Add a product to the shopping cart",inputSchema:{type:"object",properties:{productUrl:{type:"string",description:"URL of the product to add"},size:{type:"string",description:"Size option (e.g., 'M', 'L', 'XL')"},quantity:{type:"number",description:"Quantity to add (default: 1)"}},required:["productUrl"]}}]}}},{key:"callMCPTool",value:(s=f(u().m(function e(t,r){var n,a;return u().w(function(e){for(;;)switch(e.n){case 0:a=t,e.n="search_products"===a?1:"filter_products"===a?3:"get_page_products"===a?5:"add_to_cart"===a?7:9;break;case 1:return e.n=2,this.search(r.query);case 2:case 4:case 6:case 8:return e.a(2,e.v);case 3:return e.n=4,this.applyFilters(r.filters);case 5:return e.n=6,this.extractProducts();case 7:return n={link:r.productUrl,title:"Product"},e.n=8,this.addToCart(n,{size:r.size||"M",quantity:r.quantity||1});case 9:return e.a(2,{success:!1,error:"Unknown tool: ".concat(t)});case 10:return e.a(2)}},e,this)})),function(e,t){return s.apply(this,arguments)})}],n&&d(r.prototype,n),c&&d(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,c,s,l,p,y,b,m,g}(r(264).an)}}]);