"use strict";(self.webpackChunkkaynix_frontend=self.webpackChunkkaynix_frontend||[]).push([[981],{981:(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function a(r,n,i,a){var o=n&&n.prototype instanceof s?n:s,u=Object.create(o.prototype);return l(u,"_invoke",function(r,n,i){var a,o,l,s=0,u=i||[],p=!1,f={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return a=t,o=0,l=e,f.n=r,c}};function d(r,n){for(o=r,l=n,t=0;!p&&s&&!i&&t<u.length;t++){var i,a=u[t],d=f.p,h=a[2];r>3?(i=h===n)&&(l=a[(o=a[4])?5:(o=3,3)],a[4]=a[5]=e):a[0]<=d&&((i=r<2&&d<a[1])?(o=0,f.v=n,f.n=a[1]):d<h&&(i=r<3||a[0]>n||n>h)&&(a[4]=r,a[5]=n,f.n=h,o=0))}if(i||r>1)return c;throw p=!0,n}return function(i,u,h){if(s>1)throw TypeError("Generator is already running");for(p&&1===u&&d(u,h),o=u,l=h;(t=o<2?e:l)||!p;){a||(o?o<3?(o>1&&(f.n=-1),d(o,l)):f.n=l:f.v=l);try{if(s=2,a){if(o||(i="next"),t=a[i]){if(!(t=t.call(a,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=a.return)&&t.call(a),o<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),o=1);a=e}else if((t=(p=f.n<0)?l:r.call(n,f))!==c)break}catch(t){a=e,o=1,l=t}finally{s=1}}return{value:t,done:p}}}(r,i,a),!0),u}var c={};function s(){}function u(){}function p(){}t=Object.getPrototypeOf;var f=[][n]?t(t([][n]())):(l(t={},n,function(){return this}),t),d=p.prototype=s.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=p,l(d,"constructor",p),l(p,"constructor",u),u.displayName="GeneratorFunction",l(p,i,"GeneratorFunction"),l(d),l(d,i,"Generator"),l(d,n,function(){return this}),l(d,"toString",function(){return"[object Generator]"}),(o=function(){return{w:a,m:h}})()}function l(e,t,r,n){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}l=function(e,t,r,n){if(t)i?i(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var a=function(t,r){l(e,t,function(e){return this._invoke(t,r,e)})};a("next",0),a("throw",1),a("return",2)}},l(e,t,r,n)}function c(e,t,r,n,i,a,o){try{var l=e[a](o),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,i)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){c(a,n,i,o,l,"next",e)}function l(e){c(a,n,i,o,l,"throw",e)}o(void 0)})}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function p(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function f(e,t,r){return t=h(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,d()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function d(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(d=function(){return!!e})()}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}r.r(t),r.d(t,{ShopwarriorscomAdapter:()=>g,default:()=>v});var g=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=f(this,t,["shop.warriors.com",r])).log("Adapter initialized"),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(t,e),r=t,n=[{key:"search",value:(h=s(o().m(function e(t){var r,n,i,a;return o().w(function(e){for(;;)switch(e.n){case 0:return this.log("Searching for: ".concat(t)),e.p=1,r="https://shop.warriors.com/?query=".concat(encodeURIComponent(t)),this.log("Navigating to search URL: ".concat(r)),window.location.href=r,e.n=2,this.sleep(2e3);case 2:return e.n=3,this.waitForProductUpdate();case 3:return e.n=4,this.extractProducts();case 4:return n=e.v,i=window.location.href.includes("query=")||window.location.search.includes("query=")||document.title.toLowerCase().includes("search"),e.a(2,{success:!0,message:"Found ".concat(n.products.length," results for '").concat(t,"'"),query:t,products:n.products,count:n.products.length,isSearchPage:i,searchUrl:r});case 5:return e.p=5,a=e.v,this.error("Search error:",a),e.a(2,{success:!1,message:"Search failed: ".concat(a.message),query:t,error:a.message})}},e,this,[[1,5]])})),function(e){return h.apply(this,arguments)})},{key:"extractProducts",value:(d=s(o().m(function e(){var t,r,n=this;return o().w(function(e){for(;;)switch(e.n){case 0:return this.log("Extracting products"),e.p=1,e.n=2,this.sleep(1e3);case 2:return t=[],document.querySelectorAll(".product-card").forEach(function(e,r){try{var i,a=e.querySelector("a"),o=n.extractText(e.querySelector('[class*="title"]')),l=n.extractText(e.querySelector('.price, [class*="price"]')),c=(n.extractPrice(l),null==a?void 0:a.href),s=null===(i=e.querySelector("img"))||void 0===i?void 0:i.src;if(!o||!c)return void n.log("Skipping product with missing data");t.push({title:o,price:l||"Price not available",link:c,image:s||"",available:!0,position:r+1})}catch(u){n.log("Error extracting product: ".concat(u.message))}}),this.log("Found ".concat(t.length," products")),e.a(2,{success:!0,message:"Found ".concat(t.length," products"),products:t});case 3:return e.p=3,r=e.v,this.error("Extract products error:",r),e.a(2,{success:!1,message:"Failed to extract products: ".concat(r.message),products:[]})}},e,this,[[1,3]])})),function(){return d.apply(this,arguments)})},{key:"applyFilters",value:(p=s(o().m(function e(){var t,r,n,i,a,l,c,u,p,f,d,h,y,g,v,b,m,w,A,k,x,S,P,T,j,q=this,F=arguments;return o().w(function(e){for(;;)switch(e.n){case 0:return t=F.length>0&&void 0!==F[0]?F[0]:{},this.log("Applying filters:",t),r=0,n=[],e.p=1,e.n=2,this.extractAvailableFilters();case 2:if(i=e.v,a=function(){var e=s(o().m(function e(t,r){var n,a,l,c;return o().w(function(e){for(;;)switch(e.n){case 0:if(n=i[t]||[],!(a=n.find(function(e){var t="string"==typeof r?r:r.label||r.value,n=e.label===t||e.label.toLowerCase()===t.toLowerCase(),i=!n&&e.label.toLowerCase().startsWith(t.toLowerCase()+" ");return n||i}))||!a.value){e.n=2;break}if(q.log("Applying ".concat(t," filter: ").concat(a.label)),l=null,(l=document.querySelector('a[href="'.concat(a.value,'"]')))||(c=document.querySelectorAll("a.facet-link"),l=Array.from(c).find(function(e){return e.href===a.value||e.href===a.fullUrl||e.getAttribute("href")===a.value||e.textContent.trim()===a.label})),!l){e.n=1;break}return e.a(2,{shouldNavigate:!0,url:l.href,filterType:t,filterValue:a.label});case 1:q.warn("Could not find link element for filter: ".concat(a.label));case 2:return e.a(2,!1)}},e)}));return function(t,r){return e.apply(this,arguments)}}(),!(t.sizes&&t.sizes.length>0)){e.n=4;break}return e.n=3,a("sizes",t.sizes[0]);case 3:if(!(l=e.v)||!l.shouldNavigate){e.n=4;break}return e.a(2,{success:!0,message:"Applied size filter: ".concat(t.sizes[0]),filtersApplied:1,appliedFilters:[{type:l.filterType,value:l.filterValue}],navigationRequired:!0,navigateUrl:l.url,note:"Navigation-based filtering - page will reload"});case 4:if(!(t.colors&&t.colors.length>0)){e.n=6;break}return e.n=5,a("colors",t.colors[0]);case 5:if(!(c=e.v)||!c.shouldNavigate){e.n=6;break}return e.a(2,{success:!0,message:"Applied color filter: ".concat(t.colors[0]),filtersApplied:1,appliedFilters:[{type:c.filterType,value:c.filterValue}],navigationRequired:!0,navigateUrl:c.url,note:"Navigation-based filtering - page will reload"});case 6:if(!(t.brands&&t.brands.length>0)){e.n=8;break}return e.n=7,a("brands",t.brands[0]);case 7:if(!(u=e.v)||!u.shouldNavigate){e.n=8;break}return e.a(2,{success:!0,message:"Applied brand filter: ".concat(t.brands[0]),filtersApplied:1,appliedFilters:[{type:u.filterType,value:u.filterValue}],navigationRequired:!0,navigateUrl:u.url,note:"Navigation-based filtering - page will reload"});case 8:if(!(t.players&&t.players.length>0)){e.n=10;break}return e.n=9,a("players",t.players[0]);case 9:if(!(p=e.v)||!p.shouldNavigate){e.n=10;break}return e.a(2,{success:!0,message:"Applied player filter: ".concat(t.players[0]),filtersApplied:1,appliedFilters:[{type:p.filterType,value:p.filterValue}],navigationRequired:!0,navigateUrl:p.url,note:"Navigation-based filtering - page will reload"});case 10:if(!(t.productTypes&&t.productTypes.length>0)){e.n=12;break}return e.n=11,a("productTypes",t.productTypes[0]);case 11:if(!(f=e.v)||!f.shouldNavigate){e.n=12;break}return e.a(2,{success:!0,message:"Applied product type filter: ".concat(t.productTypes[0]),filtersApplied:1,appliedFilters:[{type:f.filterType,value:f.filterValue}],navigationRequired:!0,navigateUrl:f.url,note:"Navigation-based filtering - page will reload"});case 12:if(!(t.genderAge&&t.genderAge.length>0)){e.n=14;break}return e.n=13,a("genderAge",t.genderAge[0]);case 13:if(!(d=e.v)||!d.shouldNavigate){e.n=14;break}return e.a(2,{success:!0,message:"Applied gender/age filter: ".concat(t.genderAge[0]),filtersApplied:1,appliedFilters:[{type:d.filterType,value:d.filterValue}],navigationRequired:!0,navigateUrl:d.url,note:"Navigation-based filtering - page will reload"});case 14:h=["sizes","colors","brands","players","productTypes","genderAge","priceRange","minPrice","maxPrice"],y=0,g=Object.keys(t);case 15:if(!(y<g.length)){e.n=18;break}if(v=g[y],!(!h.includes(v)&&Array.isArray(t[v])&&t[v].length>0)){e.n=17;break}return this.log("Applying dynamic filter category: ".concat(v)),e.n=16,a(v,t[v][0]);case 16:if(!(b=e.v)||!b.shouldNavigate){e.n=17;break}return e.a(2,{success:!0,message:"Applied ".concat(v," filter: ").concat(t[v][0]),filtersApplied:1,appliedFilters:[{type:b.filterType,value:b.filterValue}],navigationRequired:!0,navigateUrl:b.url,note:"Navigation-based filtering - page will reload"});case 17:y++,e.n=15;break;case 18:if(!(t.priceRange||t.minPrice||t.maxPrice)){e.n=20;break}if(A=document.querySelector('input[name*="min"][name*="price"], input[placeholder*="min" i]'),k=document.querySelector('input[name*="max"][name*="price"], input[placeholder*="max" i]'),A&&(t.minPrice||null!==(m=t.priceRange)&&void 0!==m&&m.min)&&(x=t.minPrice||t.priceRange.min,A.value=x,A.dispatchEvent(new Event("change",{bubbles:!0})),r++,n.push({type:"minPrice",value:x})),k&&(t.maxPrice||null!==(w=t.priceRange)&&void 0!==w&&w.max)&&(S=t.maxPrice||t.priceRange.max,k.value=S,k.dispatchEvent(new Event("change",{bubbles:!0})),r++,n.push({type:"maxPrice",value:S})),!(P=document.querySelector('button[class*="apply"], button[type="submit"]'))||!A&&!k){e.n=20;break}return e.n=19,this.safeClick(P);case 19:return e.n=20,this.sleep(1e3);case 20:if(!(r>0)){e.n=21;break}return this.log("Waiting for products to update after applying ".concat(r," filters")),e.n=21,this.waitForProductUpdate();case 21:return e.n=22,this.extractProducts();case 22:return T=e.v,e.a(2,{success:!0,message:"Applied ".concat(r," filters"),filtersApplied:r,appliedFilters:n,products:T.products});case 23:return e.p=23,j=e.v,this.error("Error applying filters:",j),e.a(2,{success:!1,message:"Error applying filters: ".concat(j.message),filtersApplied:r,appliedFilters:n})}},e,this,[[1,23]])})),function(){return p.apply(this,arguments)})},{key:"extractAvailableFilters",value:(c=s(o().m(function e(){var t,r,n,a,l,c,s,u=this;return o().w(function(e){for(;;)switch(e.n){case 0:return this.log("Extracting available filters..."),t={brands:[],colors:[],sizes:[],priceRanges:[],players:[],productTypes:[],genderAge:[]},e.p=1,e.n=2,this.sleep(1e3);case 2:if(r=document.querySelector(".side-nav-component")){e.n=3;break}return this.log("No filter container found - might not be on a category page"),e.a(2,t);case 3:return r.querySelectorAll(".side-nav-facet").forEach(function(e){var r=e.querySelector(".side-nav-facet-heading"),n=r?u.extractText(r):"",a=[],o=function(e){var t,r;if("A"===e.tagName&&(e.classList.contains("facet-link")||null!==(t=e.href)&&void 0!==t&&t.includes("filter")||null!==(r=e.href)&&void 0!==r&&r.includes("facet"))){var n=u.extractText(e).trim();n&&a.push({label:n,value:e.getAttribute("href")||e.href||n,fullUrl:e.href,isChecked:!1,count:u.extractCountFromLabel(n)})}var l,c=i(e.children);try{for(c.s();!(l=c.n()).done;){var s=l.value;o(s)}}catch(p){c.e(p)}finally{c.f()}};o(e),a.length>0&&u.log("Found ".concat(a.length,' filters in section "').concat(n,'":'),a.map(function(e){return e.label})),a.forEach(function(e){if(!u.categorizeFilter(e,t,n)){var r=u.normalizeSectionTitle(n);r&&!t[r]&&(t[r]=[]),r&&t[r].push(e)}})}),(n=document.querySelectorAll('input[name*="price"], input[type="range"], input[placeholder*="min"], input[placeholder*="max"]')).length>=2&&(a=Array.from(n).find(function(e){var t,r,n;return(null===(t=e.name)||void 0===t?void 0:t.includes("min"))||(null===(r=e.placeholder)||void 0===r?void 0:r.toLowerCase().includes("min"))||(null===(n=e.getAttribute("aria-label"))||void 0===n?void 0:n.toLowerCase().includes("min"))}),l=Array.from(n).find(function(e){var t,r,n;return(null===(t=e.name)||void 0===t?void 0:t.includes("max"))||(null===(r=e.placeholder)||void 0===r?void 0:r.toLowerCase().includes("max"))||(null===(n=e.getAttribute("aria-label"))||void 0===n?void 0:n.toLowerCase().includes("max"))}),a&&l&&t.priceRanges.push({label:"Custom Price Range",min:parseFloat(a.min||0),max:parseFloat(l.max||1e3),currentMin:parseFloat(a.value||a.min||0),currentMax:parseFloat(l.value||l.max||1e3)})),Object.keys(t).forEach(function(e){if(Array.isArray(t[e])){var r=new Set;t[e]=t[e].filter(function(e){var t=e.label||e.value;return!r.has(t)&&(r.add(t),!0)})}}),c={},Object.keys(t).forEach(function(e){Array.isArray(t[e])&&t[e].length>0&&(c[e]=t[e].length)}),this.log("Found filters:",c),e.a(2,t);case 4:return e.p=4,s=e.v,this.error("Error extracting filters:",s),e.a(2,t)}},e,this,[[1,4]])})),function(){return c.apply(this,arguments)})},{key:"categorizeFilter",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=e.label.toLowerCase(),i=r.toLowerCase();return i.includes("size")?(t.sizes.push(e),!0):i.includes("gender")||i.includes("age")?(t.genderAge.push(e),!0):i.includes("department")||i.includes("sub department")?(t.productTypes.push(e),!0):i.includes("brand")?(t.brands.push(e),!0):i.includes("player")?(t.players.push(e),!0):i.includes("collection")?(t.brands.push(e),!0):this.isSizePattern&&this.isSizePattern(n)||n.match(/^(xs|s|m|l|xl|xxl|2xl|3xl|4xl|5xl|[0-9]+)$/)?(t.sizes.push(e),!0):this.isColorPattern&&this.isColorPattern(n)?(t.colors.push(e),!0):n.match(/curry|thompson|green|wiggins|poole|kuminga|payton|looney/)?(t.players.push(e),!0):n.match(/jersey|hoodie|sweatshirt|t-shirt|tee|jacket|shorts|hat|cap/)?(t.productTypes.push(e),!0):this.isBrandPattern&&this.isBrandPattern(n)||n.match(/nike|adidas|mitchell|fanatics|jordan|champion|new era/)?(t.brands.push(e),!0):!!n.match(/^(men|women|kids|baby|boys|girls|youth|toddler|infant)$/)&&(t.genderAge.push(e),!0)}},{key:"normalizeSectionTitle",value:function(e){return e?e.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).map(function(e,t){return 0===t?e:e.charAt(0).toUpperCase()+e.slice(1)}).join(""):""}},{key:"getMCPCapabilities",value:function(){return{tools:[{name:"search_products",description:"Search for products on shop.warriors.com",inputSchema:{type:"object",properties:{query:{type:"string",description:"Search query"}},required:["query"]}},{name:"apply_filters",description:"Apply filters to product listing",inputSchema:{type:"object",properties:{filters:{type:"object",description:"Filters to apply (e.g. {sizes: ['M'], colors: ['Blue']})"}},required:["filters"]}}]}}},{key:"callMCPTool",value:(l=s(o().m(function e(t,r){var n;return o().w(function(e){for(;;)switch(e.n){case 0:this.log("MCP tool called: ".concat(t),r),n=t,e.n="search_products"===n?1:"apply_filters"===n?2:3;break;case 1:return e.a(2,this.search(r.query));case 2:return e.a(2,this.applyFilters(r.filters));case 3:throw new Error("Unknown MCP tool: ".concat(t,". Available tools: search_products, apply_filters"));case 4:return e.a(2)}},e,this)})),function(e,t){return l.apply(this,arguments)})}],n&&u(r.prototype,n),a&&u(r,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n,a,l,c,p,d,h}(r(264).an);const v=g}}]);