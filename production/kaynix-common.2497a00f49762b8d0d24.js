"use strict";(self.webpackChunkkaynix_frontend=self.webpackChunkkaynix_frontend||[]).push([[193],{264:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,r,o,a){var i=r&&r.prototype instanceof l?r:l,s=Object.create(i.prototype);return c(s,"_invoke",function(n,r,o){var a,i,c,l=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:y,f:y.bind(e,4),d:function(t,n){return a=t,i=0,c=e,p.n=n,u}};function y(n,r){for(i=n,c=r,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],y=p.p,h=a[2];n>3?(o=h===r)&&(c=a[(i=a[4])?5:(i=3,3)],a[4]=a[5]=e):a[0]<=y&&((o=n<2&&y<a[1])?(i=0,p.v=r,p.n=a[1]):y<h&&(o=n<3||a[0]>r||r>h)&&(a[4]=n,a[5]=r,p.n=h,i=0))}if(o||n>1)return u;throw f=!0,r}return function(o,s,h){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&y(s,h),i=s,c=h;(t=i<2?e:c)||!f;){a||(i?i<3?(i>1&&(p.n=-1),y(i,c)):p.n=c:p.v=c);try{if(l=2,a){if(i||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=a.return)&&t.call(a),i<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),i=1);a=e}else if((t=(f=p.n<0)?c:n.call(r,p))!==u)break}catch(t){a=e,i=1,c=t}finally{l=1}}return{value:t,done:f}}}(n,o,a),!0),s}var u={};function l(){}function s(){}function f(){}t=Object.getPrototypeOf;var p=[][r]?t(t([][r]())):(c(t={},r,function(){return this}),t),y=f.prototype=l.prototype=Object.create(p);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e}return s.prototype=f,c(y,"constructor",f),c(f,"constructor",s),s.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(y),c(y,o,"Generator"),c(y,r,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:h}})()}function c(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}c=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var a=function(t,n){c(e,t,function(e){return this._invoke(t,n,e)})};a("next",0),a("throw",1),a("return",2)}},c(e,t,n,r)}function u(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,c,"next",e)}function c(e){u(a,r,o,i,c,"throw",e)}i(void 0)})}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}n.d(t,{a:()=>p});var p=function(){return e=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domain=t,this.config=n,this.debug=n.debug},t=[{key:"getDomain",value:function(){return this.domain}},{key:"search",value:(v=l(i().m(function e(t){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("search() must be implemented by site adapter");case 1:return e.a(2)}},e)})),function(e){return v.apply(this,arguments)})},{key:"extractProducts",value:(w=l(i().m(function e(){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("extractProducts() must be implemented by site adapter");case 1:return e.a(2)}},e)})),function(){return w.apply(this,arguments)})},{key:"applyFilters",value:(d=l(i().m(function e(){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("applyFilters() must be implemented by site adapter");case 1:return e.a(2)}},e)})),function(){return d.apply(this,arguments)})},{key:"addToCart",value:(h=l(i().m(function e(t){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("addToCart() must be implemented by site adapter");case 1:return e.a(2)}},e)})),function(e){return h.apply(this,arguments)})},{key:"waitForPageLoad",value:(y=l(i().m(function e(){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error("waitForPageLoad() must be implemented by site adapter");case 1:return e.a(2)}},e)})),function(){return y.apply(this,arguments)})},{key:"detectPageType",value:function(){var e=window.location.href.toLowerCase(),t=window.location.pathname.toLowerCase();return e.includes("/search")||e.includes("?q=")||e.includes("&q=")?"search":e.includes("/product/")||e.includes("/products/")?"product":"/"===t||""===t?"home":e.includes("/category/")||e.includes("/collection/")?"category":e.includes("/cart")?"cart":e.includes("/checkout")?"checkout":"unknown"}},{key:"getPageContext",value:function(){return{url:window.location.href,pathname:window.location.pathname,search:window.location.search,title:document.title,type:this.detectPageType(),domain:this.domain}}},{key:"waitForSelector",value:(p=l(i().m(function e(t){var n,r,o,a=arguments;return i().w(function(e){for(;;)switch(e.n){case 0:n=a.length>1&&void 0!==a[1]?a[1]:5e3,r=Date.now();case 1:if(!(Date.now()-r<n)){e.n=4;break}if(!(o=document.querySelector(t))||null===o.offsetParent){e.n=2;break}return e.a(2,o);case 2:return e.n=3,new Promise(function(e){return setTimeout(e,100)});case 3:e.n=1;break;case 4:throw new Error("Timeout waiting for selector: ".concat(t));case 5:return e.a(2)}},e)})),function(e){return p.apply(this,arguments)})},{key:"waitForAnySelector",value:(f=l(i().m(function e(t){var n,r,a,c,u,l,s,f,p=arguments;return i().w(function(e){for(;;)switch(e.n){case 0:n=p.length>1&&void 0!==p[1]?p[1]:5e3,r=Array.isArray(t)?t:[t],a=Date.now();case 1:if(!(Date.now()-a<n)){e.n=10;break}c=o(r),e.p=2,c.s();case 3:if((u=c.n()).done){e.n=5;break}if(l=u.value,!(s=document.querySelector(l))||null===s.offsetParent){e.n=4;break}return e.a(2,{element:s,selector:l});case 4:e.n=3;break;case 5:e.n=7;break;case 6:e.p=6,f=e.v,c.e(f);case 7:return e.p=7,c.f(),e.f(7);case 8:return e.n=9,new Promise(function(e){return setTimeout(e,100)});case 9:e.n=1;break;case 10:throw new Error("Timeout waiting for any selector: ".concat(r.join(", ")));case 11:return e.a(2)}},e,null,[[2,6,7,8]])})),function(e){return f.apply(this,arguments)})},{key:"waitForElement",value:(u=l(i().m(function e(t){var n,r=arguments;return i().w(function(e){for(;;)if(0===e.n)return n=r.length>1&&void 0!==r[1]?r[1]:5e3,e.a(2,this.waitForSelector(t,n))},e,this)})),function(e){return u.apply(this,arguments)})},{key:"safeClick",value:(c=l(i().m(function e(t){var n,r=arguments;return i().w(function(e){for(;;)switch(e.n){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},t){e.n=1;break}throw new Error("No element to click");case 1:return t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),e.n=2,new Promise(function(e){return setTimeout(e,n.scrollDelay||300)});case 2:if(null!==t.offsetParent){e.n=3;break}throw new Error("Element is not visible");case 3:if(t.click(),!n.waitAfter){e.n=4;break}return e.n=4,new Promise(function(e){return setTimeout(e,n.waitAfter)});case 4:return e.a(2)}},e)})),function(e){return c.apply(this,arguments)})},{key:"typeText",value:(a=l(i().m(function e(t,n){var r,a,c,u,l,s,f,p,y,h,d,w=arguments;return i().w(function(e){for(;;)switch(e.n){case 0:if(r=w.length>2&&void 0!==w[2]?w[2]:{},t){e.n=1;break}throw new Error("No element to type into");case 1:a=r.clearFirst,c=void 0===a||a,u=r.delay,l=void 0===u?50:u,s=r.triggerEvents,f=void 0===s||s,t.focus(),c&&(t.value="",f&&t.dispatchEvent(new Event("input",{bubbles:!0}))),p=o(n),e.p=2,p.s();case 3:if((y=p.n()).done){e.n=5;break}if(h=y.value,t.value+=h,f&&t.dispatchEvent(new Event("input",{bubbles:!0})),!(l>0)){e.n=4;break}return e.n=4,new Promise(function(e){return setTimeout(e,l)});case 4:e.n=3;break;case 5:e.n=7;break;case 6:e.p=6,d=e.v,p.e(d);case 7:return e.p=7,p.f(),e.f(7);case 8:f&&(t.dispatchEvent(new Event("change",{bubbles:!0})),t.dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",code:"Enter",bubbles:!0})));case 9:return e.a(2)}},e,null,[[2,6,7,8]])})),function(e,t){return a.apply(this,arguments)})},{key:"extractText",value:function(e){return e&&(e.textContent&&e.textContent.trim()||e.innerText&&e.innerText.trim())||""}},{key:"extractPrice",value:function(e){if(!e)return null;var t=e.replace(/[^\d.,]/g,"").match(/(\d+(?:[.,]\d{2})?)/);return t?parseFloat(t[1].replace(",","")):null}},{key:"log",value:function(){if(this.debug){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["[".concat(this.domain," Adapter]")].concat(n))}}},{key:"error",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,["[".concat(this.domain," Adapter]")].concat(n))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).warn.apply(e,["[".concat(this.domain," Adapter]")].concat(n))}},{key:"getMCPCapabilities",value:function(){return{tools:[]}}},{key:"callMCPTool",value:(r=l(i().m(function e(t,n){return i().w(function(e){for(;;)switch(e.n){case 0:throw new Error('MCP tool "'.concat(t,'" not implemented by ').concat(this.domain," adapter"));case 1:return e.a(2)}},e,this)})),function(e,t){return r.apply(this,arguments)})}],t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,a,c,u,f,p,y,h,d,w,v}()}}]);